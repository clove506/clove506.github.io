	<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tag System API | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="摘要Tag System API">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Tag System API"/>
  <meta property="og:site_name" content="Hexo"/>

  
  
		<!-- favicon -->
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.png">
		<meta name="theme-color" content="#009688">
		<!-- favicon end -->
    <!-- <link href="/favicon.ico" rel="icon"> -->
  

  <!-- toc -->
  <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css">

  <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">

  <!-- material design -->
	<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css">
  <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
	<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  

  

  <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/libs/jquery-2.0.3.min.js" type="text/javascript"><\/script>')</script>

</head>

 	<body>
	  <nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">菜单</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Hexo</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="/" title="">
                    <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                <li>
                    <a href="/archives" title="">
                    <i class="fa fa-list"></i>存档
                    </a>
                </li>
                
                <li>
                    <a href="/about" title="">
                    <i class="fa fa-info-circle"></i>关于
                    </a>
                </li>
                
                <li>
                    <a href="/atom.xml" title="这是一个订阅源">
                    <i class="fa fa-rss"></i>RSS
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>

	  <div class="container" >
	    <div class="row">
	
	<div class="col-md-9 center-content">
	

		<div class="content">
			<!-- index -->
		   

			  		<h2>Tag System API</h2>
					
					<div>
						<span class="post-time">2017-04-06 14:00:00</span>
					</div>	
					

					<div class="article-content">
						<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>Tag System API</p>
<a id="more"></a>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://wiki.office.test.youhujia.com/2017/03/29/tag-is-everything/" target="_blank" rel="external">http://wiki.office.test.youhujia.com/2017/03/29/tag-is-everything/</a></p>
<h1 id="Tag相关"><a href="#Tag相关" class="headerlink" title="Tag相关"></a>Tag相关</h1><h2 id="创建一个tag"><a href="#创建一个tag" class="headerlink" title="创建一个tag"></a>创建一个tag</h2><p><strong>POST /api/hd-fragments/v1/tags</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;<span class="comment">//1:自然人指标；2：疾病（隶属于自然人指标）；3：科研；4：科研分组；5：护士创建标记标签；6：UI view；7：护理路径</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;<span class="comment">//tag当前的层级</span></div><div class="line">  <span class="comment">//1~15描述了此tag的先祖路径</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Tag tag = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="修改一个tag"><a href="#修改一个tag" class="headerlink" title="修改一个tag"></a>修改一个tag</h2><p><strong>PATCH /api/hd-fragments/v1/tags/{tagId}</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;<span class="comment">//1:自然人指标；2：疾病（隶属于自然人指标）；3：科研；4：科研分组；5：自定义</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;<span class="comment">//tag当前的层级</span></div><div class="line">  <span class="comment">//1~15描述了此tag的先祖路径</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Tag tag = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="删除一个tag"><a href="#删除一个tag" class="headerlink" title="删除一个tag"></a>删除一个tag</h2><p><strong>DELETE /api/hd-fragments/v1/tags/{tagId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="comment">//删除不会有这部分数据，会返回一个只有Result的TagDTO  </span></div><div class="line">  <span class="keyword">optional</span> TagData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Tag tag = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="根据tagId查询tag"><a href="#根据tagId查询tag" class="headerlink" title="根据tagId查询tag"></a>根据tagId查询tag</h2><p><strong>GET /api/hd-fragments/v1/tags/{tagId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Tag tags = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="查询一个tag下面的所有子孙节点"><a href="#查询一个tag下面的所有子孙节点" class="headerlink" title="查询一个tag下面的所有子孙节点"></a>查询一个tag下面的所有子孙节点</h2><p><strong>GET /api/hd-fragments/v1/tags/{tagId}/children</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Tag tags = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="查询一个tagId下面一层的所有节点"><a href="#查询一个tagId下面一层的所有节点" class="headerlink" title="查询一个tagId下面一层的所有节点"></a>查询一个tagId下面一层的所有节点</h2><p><strong>GET /api/hd-fragments/v1/tags/{tagId}/daughter</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Tag tags = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="条件查询tag（所有的参数都非必填项）"><a href="#条件查询tag（所有的参数都非必填项）" class="headerlink" title="条件查询tag（所有的参数都非必填项）"></a>条件查询tag（所有的参数都非必填项）</h2><p><strong>GET /api/hd-fragments/v1/tags?tagIds={tagIds}&amp;tagType={tagType}&amp;creatorId={creatorId}&amp;departmentId={departmentId}&amp;orgId={orgId}</strong></p>
<h3 id="tagid可以为单独的一个——例如1；"><a href="#tagid可以为单独的一个——例如1；" class="headerlink" title="tagid可以为单独的一个——例如1；"></a>tagid可以为单独的一个——例如1；</h3><h3 id="也可以为使用，分隔开的多个tagid，如：1，2，3，4"><a href="#也可以为使用，分隔开的多个tagid，如：1，2，3，4" class="headerlink" title="也可以为使用，分隔开的多个tagid，如：1，2，3，4"></a>也可以为使用，分隔开的多个tagid，如：1，2，3，4</h3><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Tag tags = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="疾病树静态资源自动建议-to-cheeck"><a href="#疾病树静态资源自动建议-to-cheeck" class="headerlink" title="疾病树静态资源自动建议(to cheeck)"></a>疾病树静态资源自动建议(to cheeck)</h2><p><strong>GET /api/hd-fragments/v1/tags/ac?prefix={prefix}&amp;ancesterIds={ancesterIds}</strong></p>
<h3 id="prefix：tag-name-包含的部分；ancestorIds：先祖节点群，如有多个，请用，隔开"><a href="#prefix：tag-name-包含的部分；ancestorIds：先祖节点群，如有多个，请用，隔开" class="headerlink" title="prefix：tag name 包含的部分；ancestorIds：先祖节点群，如有多个，请用，隔开"></a>prefix：tag name 包含的部分；ancestorIds：先祖节点群，如有多个，请用，隔开</h3><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagNodeDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> TagNodeData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagNodeData</span></span>&#123;</div><div class="line">    <span class="keyword">repeated</span> TagNode nodes = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagNode</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Tag属性相关"><a href="#Tag属性相关" class="headerlink" title="Tag属性相关"></a>Tag属性相关</h1><h2 id="创建一个tag-property"><a href="#创建一个tag-property" class="headerlink" title="创建一个tag property"></a>创建一个tag property</h2><p><strong>POST /api/hd-fragments/v1/tag-properties</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagProperty property = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertyData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="创建一组tag-property"><a href="#创建一组tag-property" class="headerlink" title="创建一组tag property"></a>创建一组tag property</h2><p><strong>POST /api/hd-fragments/v1/tag-properties/create-properties</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertiesOption</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> TagPropertyOption properties = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertiesData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> TagProperty properties = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertiesDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertiesData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="修改一个tag-property"><a href="#修改一个tag-property" class="headerlink" title="修改一个tag property"></a>修改一个tag property</h2><p><strong>PATCH /api/hd-fragments/v1/tag-properties/{tagPropertyId}</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagProperty property = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertyData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="删除一个tag-property"><a href="#删除一个tag-property" class="headerlink" title="删除一个tag property"></a>删除一个tag property</h2><p><strong>DELETE /api/hd-fragments/v1/tag-properties/{tagPropertyId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagProperty property = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyDTO</span></span>&#123;</div><div class="line"><span class="comment">//返回的会是只有result的DTO对象</span></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertyData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="查询一个tag-property"><a href="#查询一个tag-property" class="headerlink" title="查询一个tag property"></a>查询一个tag property</h2><p><strong>GET /api/hd-fragments/v1/tag-properties/{tagPropertyId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagProperty property = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertyDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertyData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="根据tagId查询该tag下面所有tag-property"><a href="#根据tagId查询该tag下面所有tag-property" class="headerlink" title="根据tagId查询该tag下面所有tag property"></a>根据tagId查询该tag下面所有tag property</h2><p><strong>GET /api/hd-fragments/v1/tags/{tagId}/tag-properties</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagProperty</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> key = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> value = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertiesData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> TagProperty properties = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagPropertiesDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagPropertiesData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Tag2Object相关"><a href="#Tag2Object相关" class="headerlink" title="Tag2Object相关"></a>Tag2Object相关</h1><h3 id="todo-确认mapping-type-的全集，目前包括：user-faved-disease、user-tag、nurse-tag、dpt-disease、research-user、research-nurse"><a href="#todo-确认mapping-type-的全集，目前包括：user-faved-disease、user-tag、nurse-tag、dpt-disease、research-user、research-nurse" class="headerlink" title="todo 确认mapping type 的全集，目前包括：user_faved_disease、user_tag、nurse_tag、dpt_disease、research_user、research_nurse"></a>todo 确认mapping type 的全集，目前包括：user_faved_disease、user_tag、nurse_tag、dpt_disease、research_user、research_nurse</h3><h2 id="创建一个tag-to-object"><a href="#创建一个tag-to-object" class="headerlink" title="创建一个tag to object"></a>创建一个tag to object</h2><p><strong>POST /api/hd-fragments/v1/tag-2-objects</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObject</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagToObject tag2Object = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagToObjectData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="修改一个tag-to-object"><a href="#修改一个tag-to-object" class="headerlink" title="修改一个tag to object"></a>修改一个tag to object</h2><p><strong>PATCH /api/hd-fragments/v1/tag-2-objects/{tag2ObjectId}</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果没有可以不传对应的字段</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObject</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagToObject tag2Object = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagToObjectData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="删除一个tag-to-object"><a href="#删除一个tag-to-object" class="headerlink" title="删除一个tag to object"></a>删除一个tag to object</h2><p><strong>DELETE /api/hd-fragments/v1/tag-2-objects/{tag2ObjectId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObject</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagToObject tag2Object = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectDTO</span></span>&#123;</div><div class="line"><span class="comment">//会返回一个只有result的DTO对象</span></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagToObjectData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="查找一个tag-to-object"><a href="#查找一个tag-to-object" class="headerlink" title="查找一个tag to object"></a>查找一个tag to object</h2><p><strong>GET /api/hd-fragments/v1/tag-2-objects/{tag2ObjectId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObject</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagToObject tag2Object = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagToObjectData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="条件查询tag-to-object（所有的参数都非必填项）"><a href="#条件查询tag-to-object（所有的参数都非必填项）" class="headerlink" title="条件查询tag to object（所有的参数都非必填项）"></a>条件查询tag to object（所有的参数都非必填项）</h2><p><strong>GET /api/hd-fragments/v1/tag-2-objects?tagId={tagId}&amp;tagType={tagType}&amp;objectId={objectId}&amp;objectType={objectType}&amp;creatorDptIds={departmentIds}&amp;mappingType={mappingType}</strong></p>
<h3 id="creatorDptId可以为单独的一个——例如1；"><a href="#creatorDptId可以为单独的一个——例如1；" class="headerlink" title="creatorDptId可以为单独的一个——例如1；"></a>creatorDptId可以为单独的一个——例如1；</h3><h3 id="也可以为使用，分隔开的多个creatorDptId，如：1，2，3，4"><a href="#也可以为使用，分隔开的多个creatorDptId，如：1，2，3，4" class="headerlink" title="也可以为使用，分隔开的多个creatorDptId，如：1，2，3，4"></a>也可以为使用，分隔开的多个creatorDptId，如：1，2，3，4</h3><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObject</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> tagType = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> objectId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> objectType = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> mappingType = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorDptId = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorOrgId = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectsData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> TagToObject tag2Objects = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagToObjectsDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagToObjectsData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="传说中的事务接口们"><a href="#传说中的事务接口们" class="headerlink" title="传说中的事务接口们"></a>传说中的事务接口们</h1><h2 id="增删改tags以及她们的properties"><a href="#增删改tags以及她们的properties" class="headerlink" title="增删改tags以及她们的properties"></a>增删改tags以及她们的properties</h2><h3 id="注意结构，总节点的个数不能超过50"><a href="#注意结构，总节点的个数不能超过50" class="headerlink" title="注意结构，总节点的个数不能超过50"></a>注意结构，总节点的个数不能超过50</h3><p><strong>POST /api/hd-fragments/v1/tags/transactional</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagOption</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> TransactionalTagAddOption addOptions = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TransactionalTagUpdateOption updateOptions = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TagOption deleteOptions = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagAddOption</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line"></div><div class="line">    <span class="keyword">repeated</span> TagPropertyOption propertyOptions = <span class="number">26</span>;</div><div class="line"></div><div class="line">    <span class="keyword">repeated</span> TransactionalTagAddOption daughterOptions = <span class="number">27</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagUpdateOption</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">21</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">22</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">23</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">24</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">25</span>;</div><div class="line"></div><div class="line">    <span class="keyword">repeated</span> TagPropertyOption propertyOptions = <span class="number">26</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagAddDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> TagDTO tag = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyDTO properties = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TransactionalTagAddDTO daughters = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagUpdateDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> TagDTO tag = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyDTO properties = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> TransactionalTagAddDTO addDTO = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TransactionalTagUpdateDTO updateDTOs = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="增删改一组properties"><a href="#增删改一组properties" class="headerlink" title="增删改一组properties"></a>增删改一组properties</h2><p><strong>POST /api/hd-fragments/v1/tag-properties/transactional</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagPropertyOption</span></span>&#123;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyOption addOptions = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyOption updateOptions = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyOption deleteOptions = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagPropertyDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyDTO addDTOs = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TagPropertyDTO updateDTOs = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="增删一堆tag-to-object"><a href="#增删一堆tag-to-object" class="headerlink" title="增删一堆tag to object"></a>增删一堆tag to object</h2><p><strong>POST /api/hd-fragments/v1/tag-2-object/transactional</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagToObjectOption</span></span>&#123;</div><div class="line">    <span class="keyword">repeated</span> TagToObjectOption addOptions = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagToObjectOption deleteOptions = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TransactionalTagToObjectDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagToObjectDTO addDTOs = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Only-For-Radius"><a href="#Only-For-Radius" class="headerlink" title="Only For Radius"></a>Only For Radius</h1><h2 id="get-tag-and-properties"><a href="#get-tag-and-properties" class="headerlink" title="get tag and properties"></a>get tag and properties</h2><p><strong>POST /api/hd-fragments/v1/tags/{tagId}/tag-and-properties</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagAndPropertyDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> Tag tag = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TagProperty properties = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="get-stag-and-properties"><a href="#get-stag-and-properties" class="headerlink" title="get stag and properties"></a>get stag and properties</h2><p><strong>POST /api/hd-fragments/v1/tags/tags-and-properties?tagId={tagId}</strong></p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagAndProperty</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Tag tag = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagProperty properties = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagsAndPropertiesDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> TagAndProperty tags = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="开发排期"><a href="#开发排期" class="headerlink" title="开发排期"></a>开发排期</h1><table>
<thead>
<tr>
<th>内容</th>
<th>耗时/人日</th>
<th>actor</th>
<th>预计开始日期</th>
</tr>
</thead>
<tbody>
<tr>
<td>前期准备：构建项目，数据库、生成实体类、protobuf对象生成、enum对象构建等</td>
<td>1</td>
<td>李圣阳</td>
<td>04.11</td>
</tr>
<tr>
<td>查询DAO</td>
<td>1</td>
<td>李圣阳</td>
<td>04.12</td>
</tr>
<tr>
<td>Service层逻辑</td>
<td>1</td>
<td>李圣阳</td>
<td>04.13</td>
</tr>
<tr>
<td>Controller部分以及Halo的同步</td>
<td>1.5</td>
<td>李圣阳</td>
<td>03.14</td>
</tr>
<tr>
<td>自测</td>
<td>0.5</td>
<td>李圣阳</td>
<td>04.15</td>
</tr>
</tbody>
</table>
<h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1><ul>
<li>the name of tag system</li>
</ul>
<h1 id="项目进度"><a href="#项目进度" class="headerlink" title="项目进度"></a>项目进度</h1><h3 id="2017-04-11"><a href="#2017-04-11" class="headerlink" title="2017-04-11"></a>2017-04-11</h3><p><strong>今日</strong></p>
<ul>
<li>开发</li>
</ul>
<p><strong>明天</strong></p>
<ul>
<li>自测</li>
<li>push push push</li>
</ul>
<h3 id="2017-04-12"><a href="#2017-04-12" class="headerlink" title="2017-04-12"></a>2017-04-12</h3><p><strong>今日</strong></p>
<ul>
<li>自测</li>
</ul>
<p><strong>明天</strong></p>
<ul>
<li>部署？</li>
<li>push push push</li>
</ul>
<h3 id="2017-04-13"><a href="#2017-04-13" class="headerlink" title="2017-04-13"></a>2017-04-13</h3><p><strong>今日</strong></p>
<ul>
<li>测试 with Scientific Boundary</li>
</ul>
<p><strong>明天</strong></p>
<ul>
<li>部署？</li>
<li>push push push</li>
</ul>
<h3 id="2017-04-14"><a href="#2017-04-14" class="headerlink" title="2017-04-14"></a>2017-04-14</h3><p><strong>今日</strong></p>
<ul>
<li>数据库唯一键 通过parentId的下一层是否有同名来判断(tag的部分)(ok)</li>
<li>三个batch接口 其中的tag的是那种递归的结构  并且要计数深度(ok) (第一个节点的路径必须是完整的，否则存储的时候回报错)</li>
<li>提供一个接口 返回tag的information 以及他的 property的Map表</li>
<li>tag To Object add createdAt updatedAt </li>
</ul>
<p><strong>明天</strong></p>
<ul>
<li>部署？</li>
<li>push push push</li>
<li>幂等操作？</li>
</ul>
<h3 id="2017-04-15"><a href="#2017-04-15" class="headerlink" title="2017-04-15"></a>2017-04-15</h3><p><strong>今日</strong></p>
<ul>
<li>完成幂等操作</li>
<li>满足他人的需求 </li>
</ul>
<p><strong>明天</strong></p>
<ul>
<li>部署？</li>
<li>push push push</li>
<li>幂等操作？</li>
</ul>

					</div>

			  <!-- about -->
			  
		</div>

		<!-- pagination -->
	  

		<div class="comment-section">
  
  


</div>
	</div>

	

</div>


		<footer>
			

<p>
  由 <a href="https://hexo.io">hexo</a> 强力驱动 | 搭载 <a href="https://github.com/wayou/hexo-theme-material">material</a> 主题
</p>
<p>
  &copy; 2017 <a href="http://yoursite.com"> John Doe </a>
</p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	  </div>

		<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>

		<!-- material design -->
		<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script>
		<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>
		<!-- toc -->
		<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
		<script src="/libs/tocify/jquery.tocify.custom.js"></script>

		<script src="/js/main.js"></script>

	</body>
</html>
