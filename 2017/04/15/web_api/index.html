	<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Web API | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="摘要Web API">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Web API"/>
  <meta property="og:site_name" content="Hexo"/>

  
  
		<!-- favicon -->
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.png">
		<meta name="theme-color" content="#009688">
		<!-- favicon end -->
    <!-- <link href="/favicon.ico" rel="icon"> -->
  

  <!-- toc -->
  <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css">

  <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">

  <!-- material design -->
	<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css">
  <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
	<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  

  

  <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/libs/jquery-2.0.3.min.js" type="text/javascript"><\/script>')</script>

</head>

 	<body>
	  <nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">菜单</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Hexo</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="/" title="">
                    <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                <li>
                    <a href="/archives" title="">
                    <i class="fa fa-list"></i>存档
                    </a>
                </li>
                
                <li>
                    <a href="/about" title="">
                    <i class="fa fa-info-circle"></i>关于
                    </a>
                </li>
                
                <li>
                    <a href="/atom.xml" title="这是一个订阅源">
                    <i class="fa fa-rss"></i>RSS
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>

	  <div class="container" >
	    <div class="row">
	
	<div class="col-md-9 center-content">
	

		<div class="content">
			<!-- index -->
		   

			  		<h2>Web API</h2>
					
					<div>
						<span class="post-time">2017-04-15 14:11:00</span>
					</div>	
					

					<div class="article-content">
						<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>Web API</p>
<a id="more"></a>
<h1 id="上线脚本"><a href="#上线脚本" class="headerlink" title="上线脚本"></a>上线脚本</h1><p>涉及系统（包括有更新项目的）：</p>
<ol>
<li>halo</li>
<li>Evans</li>
<li>Galaxy</li>
<li>ScienceBoundary</li>
<li>Huformation</li>
</ol>
<p>配置需要更新：</p>
<ol>
<li>Evans，添加 mentalseal 信息</li>
<li>Gateway, add config for SB</li>
</ol>
<p>准备数据：</p>
<ol>
<li>MentalSeal 无可用后台，手工在数据库添加数据</li>
</ol>
<h1 id="类设计"><a href="#类设计" class="headerlink" title="类设计"></a>类设计</h1><h4 id="ManagerController"><a href="#ManagerController" class="headerlink" title="ManagerController"></a>ManagerController</h4><table>
<thead>
<tr>
<th>方法名</th>
<th>参数</th>
<th>返回值</th>
<th>详情</th>
</tr>
</thead>
<tbody>
<tr>
<td>getHomePage</td>
<td>nurseId</td>
<td>DptHomePageInfoDTO</td>
<td>获取首页信息</td>
</tr>
<tr>
<td>updateHomePage</td>
<td>DptHomePageInfoOpt</td>
<td>SimpleResponseDTO</td>
<td>更新首页科室信息</td>
</tr>
<tr>
<td>getNurseList</td>
<td>nurseId</td>
<td>NurseListDTO</td>
<td>获取护士列表</td>
</tr>
<tr>
<td>updateNurse</td>
<td>Nurse</td>
<td>SimpleResponseDTO</td>
<td>更新护士信息</td>
</tr>
<tr>
<td>addNurse</td>
<td>NurseOpt</td>
<td>SimpleResponseDTO</td>
<td>添加护士</td>
</tr>
<tr>
<td>getNurseDetail</td>
<td>nurseId</td>
<td>Nurse</td>
<td>获取护士详情</td>
</tr>
<tr>
<td>getEvaluations</td>
<td></td>
<td>Evaluations</td>
<td>工单管理（评估+随访）</td>
</tr>
<tr>
<td>getPatientList</td>
<td>tagIds&amp;&amp;status</td>
<td>PatientListDTO</td>
<td>获取患者列表</td>
</tr>
<tr>
<td>getPatientDetail</td>
<td>patientId</td>
<td>PatientDTO</td>
<td>获取患者详情</td>
</tr>
<tr>
<td>createPatient</td>
<td>PatientOpt</td>
<td>SimpleResponseDTO</td>
<td>新建患者</td>
</tr>
<tr>
<td>updatePatient</td>
<td>patientId</td>
<td>SimpleResponseDTO</td>
<td>更新患者信息</td>
</tr>
<tr>
<td>deletePatient</td>
<td>patientId</td>
<td>SimpleResponseDTO</td>
<td>删除患者</td>
</tr>
<tr>
<td>archivePatient</td>
<td>ArchiveOpt</td>
<td>SimpleResponseDTO</td>
<td>批量归档患者</td>
</tr>
<tr>
<td>createPush</td>
<td>PushTask</td>
<td>SimpleResponseDTO</td>
<td>创建推送内容</td>
</tr>
<tr>
<td>getTags</td>
<td></td>
<td>TagListDTO</td>
<td>获取标签列表</td>
</tr>
<tr>
<td>getTagCategory</td>
<td></td>
<td>TagCategoryListDTO</td>
<td>获取标签组的List</td>
</tr>
<tr>
<td>getTagCategoryDetail</td>
<td>id</td>
<td>TagCategoryDTO</td>
<td>获取标签组的详情</td>
</tr>
<tr>
<td>createCategory</td>
<td>TagCategoryOpt</td>
<td>SimpleResponseDTO</td>
<td>创建标签组</td>
</tr>
<tr>
<td>updateCategory</td>
<td>TagCategoryOpt</td>
<td>SimpleResponseDTO</td>
<td>更新某一个标签组</td>
</tr>
<tr>
<td>createTag</td>
<td>TagOpt</td>
<td>SimpleResponseDTO</td>
<td>新建Tag</td>
</tr>
<tr>
<td>updateTag</td>
<td>TagOpt</td>
<td>SimpleResponseDTO</td>
<td>更新Tag</td>
</tr>
<tr>
<td>deleteTag</td>
<td>tagId</td>
<td>SimpleResponseDTO</td>
<td>删除Tag</td>
</tr>
<tr>
<td>getCareRountine</td>
<td></td>
<td>CareRoutineDTO</td>
<td>获取护理路径</td>
</tr>
<tr>
<td>createCareRountine</td>
<td>CareRoutineOpt</td>
<td>SimpleResponseDTO</td>
<td>创建护理路径</td>
</tr>
<tr>
<td>getFollowManager</td>
<td></td>
<td>CareTemplateListDTO</td>
<td>随访（随访+护理路径）</td>
</tr>
<tr>
<td>getArticles</td>
<td></td>
<td>ArticlesDTO</td>
<td>获取文章列表(官方/自建)</td>
</tr>
<tr>
<td>getArticleDetail</td>
<td>id</td>
<td>Article</td>
<td>获取文章详情(官方/自建)</td>
</tr>
<tr>
<td>createArticle</td>
<td>Article</td>
<td>CommonResponseDTO</td>
<td>新建文章</td>
</tr>
<tr>
<td>updateArticle</td>
<td>Article</td>
<td>CommonResponseDTO</td>
<td>更新文章(官方/自建)</td>
</tr>
<tr>
<td>getTools</td>
<td></td>
<td>EvaluationListDTO</td>
<td>获取工具（eval/self）</td>
</tr>
</tbody>
</table>
<h1 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h1><p><strong>GET /api/evans/v1/homepage/departmentId/{departmentId}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DptHomePageInfoDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result restult = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> DptHomePageInfoData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DptHomePageInfoData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> DptHomePageInfo dptHomePageInfo = <span class="number">1</span>; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DptHomePageInfo</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;     <span class="comment">//机构名称</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> orgName = <span class="number">2</span>;    <span class="comment">//所属医院</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> subjectBelongsTo = <span class="number">3</span>;   <span class="comment">//所属学科</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> dptImgUrl = <span class="number">4</span>;   <span class="comment">//形象照片</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> logoUrl = <span class="number">5</span>;     <span class="comment">//机构的二维码</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>PATCH /api/evans/v1/homepage/departmentId/{departmentId}</strong></p>
<p>response:</p>
<p>message DptHomePageInfoDTO{</p>
<p> //参照获取部门详情接口<br>}</p>
<h1 id="文章列表"><a href="#文章列表" class="headerlink" title="文章列表"></a>文章列表</h1><p>文章分为两类：自建文章和优护家的官方文章。</p>
<h3 id="获取文章列表"><a href="#获取文章列表" class="headerlink" title="获取文章列表"></a>获取文章列表</h3><p><strong>官方；GET /api/evans/v1/articles/official</strong><br><strong>自建：GET /api/evans/v1/articles/local</strong></p>
<p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> ArticleListData data = <span class="number">2</span>; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span>  <span class="title">ArticleListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Article article = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Article</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id=<span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name=<span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> brief=<span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> author=<span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> status=<span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content=<span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> url=<span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> typeId=<span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> Category category = <span class="number">9</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Category</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>优护家的宣教分类：科室类别-》前端的疾病节点（两级：内科-》心内）-》百科节点-》宣教</p>
<p>科室自己的宣教一级分类，默认分组：default。</p>
<h3 id="MARK添加接口：根据科室返回优护家的前端疾病节点，点击获取文章-list"><a href="#MARK添加接口：根据科室返回优护家的前端疾病节点，点击获取文章-list" class="headerlink" title="MARK添加接口：根据科室返回优护家的前端疾病节点，点击获取文章 list"></a>MARK添加接口：根据科室返回优护家的前端疾病节点，点击获取文章 list</h3><p>todo 待确认技术细节，如何保存所谓的：前端疾病节点，该节点和文章的关系。</p>
<h3 id="获取文章详情"><a href="#获取文章详情" class="headerlink" title="获取文章详情"></a>获取文章详情</h3><p><strong>官方：GET /api/evans/v1/articles/official/{id}</strong></p>
<p><strong>自建：GET /api/evans/v1/articles/local/{id}</strong><br>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> ArticleData data = <span class="number">2</span>;  </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Article article = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span>  <span class="title">Article</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id=<span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name=<span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> brief=<span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> author=<span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> status=<span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content=<span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> bannerUrl=<span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> articleTypeId=<span class="number">8</span>;<span class="comment">//参考 article_type 表</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> categoryId = <span class="number">9</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="更新文章"><a href="#更新文章" class="headerlink" title="更新文章"></a>更新文章</h3><p><strong>官方：PATCH /api/evans/v1/articles/official/{id}</strong><br><strong>自建：PATCH /api/evans/v1/articles/local/{id}</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name=<span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> brief=<span class="number">3</span>;</div><div class="line">  <span class="comment">//optional string author=4;</span></div><div class="line">  <span class="comment">//optional string status=5;</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content=<span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> bannerUrl=<span class="number">7</span>;</div><div class="line">  <span class="comment">//optional int64 articleTypeId=8;</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> categoryId = <span class="number">9</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="新建文章（只能新建本科室的）"><a href="#新建文章（只能新建本科室的）" class="headerlink" title="新建文章（只能新建本科室的）"></a>新建文章（只能新建本科室的）</h3><p><strong>POST /api/evans/v1/articles/local/</strong><br>request：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name=<span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> brief=<span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content=<span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> bannerUrl=<span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> categoryId = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleDTO</span></span>&#123;</div><div class="line">   <span class="comment">//参照文章详情返回值</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="工具列表"><a href="#工具列表" class="headerlink" title="工具列表"></a>工具列表</h1><p>只有查看，不需修改和创建</p>
<h3 id="获取工具列表"><a href="#获取工具列表" class="headerlink" title="获取工具列表"></a>获取工具列表</h3><p><strong>获取随访列表（Galaxy）：GET api/nurses/calendars/events/followup/v2</strong><br><strong>获取评估列表（Evans）：GET /api/evans/v1/task/evaluations</strong></p>
<p>response：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> EvaluationData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Evaluation evaluation = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Evaluation</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  type = <span class="number">4</span>;<span class="comment">//eval or selftest</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> iconId = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> iconColor = <span class="number">6</span>;</div><div class="line">  <span class="keyword">repeated</span> Question question = <span class="number">7</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Question</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> <span class="keyword">required</span> = <span class="number">4</span>;</div><div class="line">    <span class="keyword">repeated</span> QuestionOption questionOption = <span class="number">5</span>;</div><div class="line">    <span class="keyword">repeated</span> SingleChoiceMatrix singleChoiceMatrix=<span class="number">6</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">QuestionBundleAnalysis</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> condition = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> analysis = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">QuestionOption</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">SingleChoiceMatrix</span></span>&#123;</div><div class="line">     <span class="keyword">optional</span> <span class="built_in">int64</span> rank = <span class="number">1</span>;</div><div class="line">     <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">     <span class="keyword">repeated</span> <span class="built_in">string</span> choice = <span class="number">3</span>;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="服务配置"><a href="#服务配置" class="headerlink" title="服务配置"></a>服务配置</h1><p>复用已有，商品支撑系统</p>
<h1 id="MARK护士管理"><a href="#MARK护士管理" class="headerlink" title="MARK护士管理"></a>MARK护士管理</h1><h2 id="获取人员列表-evans"><a href="#获取人员列表-evans" class="headerlink" title="获取人员列表(evans)"></a>获取人员列表(evans)</h2><p><strong>GET /api/evans/v1/nurses</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> NurseData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Nurse nurse = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Nurse</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">3</span>;   </div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">6</span>;  <span class="comment">//出生的时间戳，要转换成自己的年龄</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCardNo = <span class="number">8</span>;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新护士信息-evans"><a href="#更新护士信息-evans" class="headerlink" title="更新护士信息(evans)"></a>更新护士信息(evans)</h2><p><strong>PUT /api/evans/v1/nurses/{nurseId}</strong></p>
<p>request：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">2</span>;  <span class="comment">//可以修改认证信息</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCardNo = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> NurseWithWorkLogData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseWithWorkLogData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> NurseWithWorkLog nurseWithWorkLog = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseWithWorkLog</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCardNo = <span class="number">8</span>;</div><div class="line">  <span class="keyword">repeated</span> WorkLog worklog = <span class="number">9</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">WorkLog</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> timestamp = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">6</span>;</div><div class="line"></div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h2 id="创建护士-evans"><a href="#创建护士-evans" class="headerlink" title="创建护士(evans)"></a>创建护士(evans)</h2><p><strong>POST /api/evans/v1/nurses</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseOpt</span></span>&#123;</div><div class="line">  </div><div class="line">  <span class="comment">//参考更新的request</span></div><div class="line">  <span class="comment">//创建的时候不需要传认证信息</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseDTO</span></span>&#123;</div><div class="line"> <span class="comment">//参照更新护士的response</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="护士详情，包括工作记录-evans"><a href="#护士详情，包括工作记录-evans" class="headerlink" title="护士详情，包括工作记录(evans)"></a>护士详情，包括工作记录(evans)</h2><p><strong>GET /api/evans/v1/nurses/{nurseId}</strong><br>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> NurseData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Nurse nurse = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Nurse</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">3</span>;  </div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCardNo = <span class="number">8</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">repeated</span> WorkLog worklog = <span class="number">9</span>;</div><div class="line">  </div><div class="line">  messsage WorkLog&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> timestamp = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">4</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="护士认证"><a href="#护士认证" class="headerlink" title="护士认证"></a>护士认证</h1><p>PATCH /api/evans/v1/nurses/{nurseId}</p>
<ul>
<li><p>Request</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">message NurseAuth&#123;</div><div class="line">    optional bool auth = 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">message SimpleResponse&#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="MARK-评估详情"><a href="#MARK-评估详情" class="headerlink" title="MARK 评估详情"></a>MARK 评估详情</h1><p>需要确定 Web 的设计</p>
<p>API: <a href="http://wiki.office.test.youhujia.com/2017/04/14/zhushou-2.0-api#获取评估任务详情" target="_blank" rel="external">http://wiki.office.test.youhujia.com/2017/04/14/zhushou-2.0-api#获取评估任务详情</a></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">message ProEvalEventDTO &#123;</div><div class="line">    optional Result result = 1;</div><div class="line">    optional int64 eventId = 2;</div><div class="line">    optional int64 nurseId = 3;</div><div class="line">    optional int64 patientId = 4;</div><div class="line">    optional int64 status = 5;</div><div class="line">    optional EvaluateSection evalSection = 6;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message EvaluateSection &#123;</div><div class="line">    message Evaluate &#123;</div><div class="line">        optional int64 id = 1;</div><div class="line">        optional string title = 2;</div><div class="line">        optional string summary = 3;</div><div class="line">        optional int64 resultId = 4;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    optional string title = 1;</div><div class="line">    optional string desc = 2;</div><div class="line">    repeated Evaluate evaluate = 3;</div><div class="line">    optional int64 order = 4;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="公告、随访、排班包装-Galaxy-的接口"><a href="#公告、随访、排班包装-Galaxy-的接口" class="headerlink" title="公告、随访、排班包装 Galaxy 的接口"></a>公告、随访、排班包装 Galaxy 的接口</h1><h1 id="公告"><a href="#公告" class="headerlink" title="公告"></a>公告</h1><h2 id="添加公告-galaxy"><a href="#添加公告-galaxy" class="headerlink" title="添加公告(galaxy)"></a>添加公告(galaxy)</h2><h3 id="对老接口进行复用，更改了url"><a href="#对老接口进行复用，更改了url" class="headerlink" title="//对老接口进行复用，更改了url"></a>//对老接口进行复用，更改了url</h3><p><strong>POST /api/nurses/calendars/events/announcement/v2</strong><br><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L56" target="_blank" rel="external">老接口具体接口</a></p>
<h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>用户添加自己需要的公告</p>
<h4 id="接口详情"><a href="#接口详情" class="headerlink" title="接口详情"></a>接口详情</h4><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventAddOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title= <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> day = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventAddDTO</span> </span>&#123;</div><div class="line"> <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="删除公告（Galaxy）"><a href="#删除公告（Galaxy）" class="headerlink" title="删除公告（Galaxy）"></a>删除公告（Galaxy）</h2><h3 id="直接复用老接口"><a href="#直接复用老接口" class="headerlink" title="直接复用老接口"></a>直接复用老接口</h3><p><strong>DELETE  /api/nurses/calendars/events/announcement/1/{id}</strong><br><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L77" target="_blank" rel="external">具体接口</a></p>
<h2 id="更新公告"><a href="#更新公告" class="headerlink" title="更新公告"></a>更新公告</h2><h3 id="复用老接口，更新了url"><a href="#复用老接口，更新了url" class="headerlink" title="复用老接口，更新了url"></a>复用老接口，更新了url</h3><p><strong>PATCH /api/nurses/calendars/events/announcement/v2/{id}</strong><br><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L94" target="_blank" rel="external">具体接口</a></p>
<h4 id="接口详情-1"><a href="#接口详情-1" class="headerlink" title="接口详情"></a>接口详情</h4><p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventUpdateOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> day = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventUpdateDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="获取单个公告（Galaxy）"><a href="#获取单个公告（Galaxy）" class="headerlink" title="获取单个公告（Galaxy）"></a>获取单个公告（Galaxy）</h2><h3 id="封装了返回值，更改了URL"><a href="#封装了返回值，更改了URL" class="headerlink" title="封装了返回值，更改了URL"></a>封装了返回值，更改了URL</h3><p><strong>GET /api/nurses/calendars/events/announcement/v2/{id}</strong><br><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L112" target="_blank" rel="external">老接口</a> 接口        response更新</p>
<h4 id="接口详情-2"><a href="#接口详情-2" class="headerlink" title="接口详情"></a>接口详情</h4><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> AnnouncementData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> AnnouncementEventDTO announcement = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventDTO</span></span>&#123;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ReadPerson</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Nurse</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> Nurse author = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">7</span>;</div><div class="line">  <span class="keyword">repeated</span> ReadPerson readPerson = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> departmentNurseNum = <span class="number">10</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访"><a href="#随访" class="headerlink" title="随访"></a>随访</h1><h2 id="获取单个随访信息（Galaxy）"><a href="#获取单个随访信息（Galaxy）" class="headerlink" title="获取单个随访信息（Galaxy）"></a>获取单个随访信息（Galaxy）</h2><h3 id="返回的是长度为1的List-封装了返回体，更改了URL"><a href="#返回的是长度为1的List-封装了返回体，更改了URL" class="headerlink" title="返回的是长度为1的List,封装了返回体，更改了URL"></a>返回的是长度为1的List,封装了返回体，更改了URL</h3><p><strong>GET /api/nurses/calendars/events/followup/v2/{id}</strong><br>复用 Galaxy 的 <a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L132" target="_blank" rel="external">getCalendarFollowUpEvent接口</a></p>
<h4 id="接口详情-3"><a href="#接口详情-3" class="headerlink" title="接口详情"></a>接口详情</h4><p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpOfEventDTO</span></span>&#123;</div><div class="line">   <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">   <span class="keyword">optional</span> FollowUpEventData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span>  <span class="title">FollowUpEventData</span></span>&#123;</div><div class="line">     <span class="keyword">optional</span> FollowUpEventDTO followUp = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpEventDTO</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Target</span> </span>&#123;</div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">Tag</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">1</span>;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> tagName = <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> personId = <span class="number">1</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> avatar = <span class="number">2</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">        <span class="keyword">repeated</span> Tag tag = <span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Event</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">3</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">4</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> alertTime = <span class="number">5</span>;</div><div class="line">        <span class="keyword">repeated</span> <span class="built_in">string</span> executorName = <span class="number">6</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">7</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">8</span>;</div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">Brief</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">optional</span> Brief brief = <span class="number">9</span>;</div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">WeChat</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">2</span>;</div><div class="line">            <span class="class"><span class="keyword">message</span> <span class="title">WeChatContent</span> </span>&#123;</div><div class="line">                <span class="class"><span class="keyword">message</span> <span class="title">Article</span> </span>&#123;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">3</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="class"><span class="keyword">message</span> <span class="title">Tool</span> </span>&#123;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">                    <span class="keyword">optional</span> <span class="built_in">string</span> summary = <span class="number">3</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">repeated</span> Article article = <span class="number">3</span>;</div><div class="line">                <span class="keyword">repeated</span> Tool tool = <span class="number">4</span>;</div><div class="line">                <span class="keyword">optional</span> WeChatMsg msg = <span class="number">5</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">optional</span> WeChatContent content = <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">optional</span> WeChat wechat = <span class="number">10</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> Target target = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> Event event = <span class="number">4</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="创建随访（RedCoast）"><a href="#创建随访（RedCoast）" class="headerlink" title="创建随访（RedCoast）"></a>创建随访（RedCoast）</h2><h3 id="更新了URL"><a href="#更新了URL" class="headerlink" title="更新了URL"></a>更新了URL</h3><p><strong>POST /api/nurses/calendars/events/followup/v2</strong><br><a href="https://github.com/Youhujia/redcoast/blob/master/src/main/java/com/youhujia/redcoast/domain/followup/FollowUpController.java#L34" target="_blank" rel="external">createFollowUp</a> 接口</p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpAddOption</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">1</span>; <span class="comment">//creatorId</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> dischargeAt = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> targetId = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> executorId = <span class="number">4</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> observerId = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> alertTemplateId = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> followUptemplateId = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpAddDTO</span></span>&#123;</div><div class="line">   <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新随访信息-Galaxy"><a href="#更新随访信息-Galaxy" class="headerlink" title="更新随访信息(Galaxy)"></a>更新随访信息(Galaxy)</h2><h3 id="更改了URL"><a href="#更改了URL" class="headerlink" title="更改了URL"></a>更改了URL</h3><p><strong>PATCH /api/nurses/calendars/events/followup/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L172" target="_blank" rel="external">updateCalendarFollowUpEvent</a> 接口</p>
<h4 id="接口详情-4"><a href="#接口详情-4" class="headerlink" title="接口详情"></a>接口详情</h4><p>Request:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">message FollowUpEventUpdateOption &#123;</div><div class="line">  optional int64 eventId = 1;</div><div class="line">  optional string purpose = 2;</div><div class="line">  optional Brief brief = 3;</div><div class="line">  optional WeChat wechat = 4;</div><div class="line">  optional int64 status = 5;</div><div class="line">  optional int64 nurseId = 6;</div><div class="line"></div><div class="line">  message Brief &#123;</div><div class="line">    optional int64 actionId = 1;</div><div class="line">    optional string content = 2;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  message WeChat &#123;</div><div class="line">    optional int64 actionId = 1;</div><div class="line">    optional int64 status = 2;</div><div class="line">    repeated Tool tool = 3;</div><div class="line">    repeated Article article = 4;</div><div class="line"></div><div class="line">    message Tool &#123;</div><div class="line">      optional int64 id = 1;</div><div class="line">      optional string summary = 2;</div><div class="line">    &#125;</div><div class="line">    message Article &#123;</div><div class="line">      optional int64 id = 1;</div><div class="line">      optional bool read = 2;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpEventUpdateDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="排班"><a href="#排班" class="headerlink" title="排班"></a>排班</h1><h2 id="科室排班表（huformation）"><a href="#科室排班表（huformation）" class="headerlink" title="科室排班表（huformation）"></a>科室排班表（huformation）</h2><h3 id="更改了url，response更新"><a href="#更改了url，response更新" class="headerlink" title="更改了url，response更新"></a>更改了url，response更新</h3><p><strong>GET /api/nurses/rosters/departments/{departmentId}/by-person/v2</strong></p>
<p>复用 huformation 的 <a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterScheduleController.java#L133" target="_blank" rel="external">getSchedulesArrangedByPerson</a> 接口     </p>
<h4 id="接口详情-5"><a href="#接口详情-5" class="headerlink" title="接口详情"></a>接口详情</h4><p>Response:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">message RosterSchedulesByPersonDTO&#123;</div><div class="line">  optional Result result = 1;</div><div class="line">  optional RosterSchedulesByPersonData data = 2;</div><div class="line">&#125;</div><div class="line">message RosterSchedulesByPersonData&#123;</div><div class="line">  optional RosterScheduleByPerson rosterScheduleByPerson = 1;</div><div class="line">&#125;</div><div class="line">message RosterScheduleByPerson&#123;</div><div class="line">  repeated Roster rosters = 1;</div><div class="line">  repeated ScheduleByPerson scheduleByPerson = 2;</div><div class="line"></div><div class="line">  message Roster &#123;</div><div class="line">      optional string name = 1;</div><div class="line">      optional int64 rosterId = 2;</div><div class="line">      optional string colorClass = 3;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  message ScheduleByPerson &#123;</div><div class="line">      optional string name = 1;</div><div class="line">      optional int64 personId = 2;</div><div class="line">      repeated Schedule data = 3;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  message Schedule &#123;</div><div class="line">      repeated int64 rosterIds = 1;</div><div class="line">      repeated int64 rosterScheduleIds = 2;</div><div class="line">      optional bool isToday = 3;</div><div class="line">      optional int64 date = 4;</div><div class="line">      optional string displaDate = 5;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="创建排班（huformation）"><a href="#创建排班（huformation）" class="headerlink" title="创建排班（huformation）"></a>创建排班（huformation）</h2><h3 id="更新了url-response更新"><a href="#更新了url-response更新" class="headerlink" title="更新了url,response更新"></a>更新了url,response更新</h3><p><strong>POST /api/nurses/rosters/schedules/batch-append/v2</strong></p>
<p><a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterScheduleController.java#L59" target="_blank" rel="external">batchScheduleRoster</a> </p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">BatchRosterScheduleOption</span> </span>&#123;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> rosterId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> executorId = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> watcherId = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> date = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> notifyId = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterSchedulesDTO</span></span>&#123;</div><div class="line">   <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">   <span class="keyword">optional</span> RosterSchedulesData date=<span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterSchedulesData</span></span>&#123;</div><div class="line">    <span class="keyword">repeated</span> RosterSchedule rosterSchedule = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterSchedule</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> rosterId = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> rosterName = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> rosterColorClass = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> executorId = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> executorName = <span class="number">7</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> rosterStartTime = <span class="number">8</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> rosterEndTime = <span class="number">9</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> date = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> notifyTime = <span class="number">11</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="移除排班（huformation）"><a href="#移除排班（huformation）" class="headerlink" title="移除排班（huformation）"></a>移除排班（huformation）</h2><h3 id="复用老接口"><a href="#复用老接口" class="headerlink" title="复用老接口"></a>复用老接口</h3><p><strong>DELETE /api/nurses/rosters/schedules/{rosterScheduleIds}</strong></p>
<p><a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterScheduleController.java#L75" target="_blank" rel="external">直接复用</a></p>
<h1 id="班次"><a href="#班次" class="headerlink" title="班次"></a>班次</h1><h2 id="创建班次（huformation）"><a href="#创建班次（huformation）" class="headerlink" title="创建班次（huformation）"></a>创建班次（huformation）</h2><h3 id="更改了URL-response封装"><a href="#更改了URL-response封装" class="headerlink" title="更改了URL ,response封装"></a>更改了URL ,response封装</h3><p><strong>POST /api/nurses/rosters/v2</strong></p>
<p><a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterController.java#L27" target="_blank" rel="external">create</a></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  <span class="comment">//16:00</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> startTime = <span class="number">3</span>;</div><div class="line">  <span class="comment">//16:30</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> endTime = <span class="number">4</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> gaps = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> colorClass = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> description = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">/********* Rosters ***********/</div><div class="line"><span class="comment">//new</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> RosterData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//new</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Roster roster = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//old</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Roster</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorId = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> gaps = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> colorClass = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> description = <span class="number">9</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新班次（huformation）"><a href="#更新班次（huformation）" class="headerlink" title="更新班次（huformation）"></a>更新班次（huformation）</h2><h3 id="更改了URL-response封装-1"><a href="#更改了URL-response封装-1" class="headerlink" title="更改了URL ,response封装"></a>更改了URL ,response封装</h3><p><strong>PATCH /api/nurses/rosters/{rosterId}/v2</strong></p>
<p><a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterController.java#L42" target="_blank" rel="external">update</a> ，更新了 URL</p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterOption</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  <span class="comment">//16:00</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> startTime = <span class="number">3</span>;</div><div class="line">  <span class="comment">//16:30</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> endTime = <span class="number">4</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> gaps = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> colorClass = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> description = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> RosterData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Roster roster = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Roster</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> creatorId = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> gaps = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> colorClass = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> description = <span class="number">9</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="列表班次"><a href="#列表班次" class="headerlink" title="列表班次"></a>列表班次</h2><h3 id="更改了URL-response封装-2"><a href="#更改了URL-response封装-2" class="headerlink" title="更改了URL ,response封装"></a>更改了URL ,response封装</h3><p><strong>GET /api/nurses/rosters/v2</strong></p>
<p>复用 huformation 的 <a href="https://github.com/Youhujia/huformation/blob/master/src/main/java/com/youhujia/huformation/controller/RosterController.java#L59" target="_blank" rel="external">getRosters</a> 接口<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//new</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> RosterListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//new</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Roster roster = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="工单管理"><a href="#工单管理" class="headerlink" title="工单管理"></a>工单管理</h1><p>返回两个接口</p>
<h2 id="1-工单列表"><a href="#1-工单列表" class="headerlink" title="1. 工单列表"></a>1. 工单列表</h2><h3 id="评估列表（evans）"><a href="#评估列表（evans）" class="headerlink" title="评估列表（evans）"></a>评估列表（evans）</h3><p><strong>GET /api/evans/v1/task/evaluations</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">message WorkOrderOfEvaluationDTO&#123;</div><div class="line">  optional Result result = 1;</div><div class="line">  optional EvaluationData data = 2;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message WorkOrderOfEvaluationData&#123;</div><div class="line">  repeated WorkOrder WorkOrder = 1;  </div><div class="line">&#125;</div><div class="line"></div><div class="line">message WorkOrder&#123;</div><div class="line">  optional int64 id = 1;            </div><div class="line">  optional int32 type = 2;</div><div class="line">  optional string name = 3;</div><div class="line">  optional string executorName = 4;</div><div class="line">  optional string patientName = 5;</div><div class="line">  optional int64 planedTime = 6;</div><div class="line">  optional int64 execuateTime = 7;</div><div class="line">  optional int32 status = 8;</div><div class="line">  optional int64 nurseId =9;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="随访列表-gaxaly"><a href="#随访列表-gaxaly" class="headerlink" title="随访列表(gaxaly)"></a>随访列表(gaxaly)</h3><p> <strong>GET /api/nurses/calendars/events/followup/v2</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">message WorkOrderOfFollowDTO&#123;</div><div class="line">  optional Result result = 1;</div><div class="line">  optional WorkOrderOfFollowData data = 2;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message WorkOrderOfFollowData&#123;</div><div class="line">  repeated WorkOrder WorkOrder = 1;  </div><div class="line">&#125;</div><div class="line"></div><div class="line">message WorkOrder&#123;</div><div class="line">  optional int64 id = 1;        </div><div class="line">  optional int32 type = 2;</div><div class="line">  optional string name = 3;</div><div class="line">  optional string executorName = 4;</div><div class="line">  optional string patientName = 5;</div><div class="line">  optional int64 planedTime = 6;</div><div class="line">  optional int64 execuateTime = 7;</div><div class="line">  optional int32 status = 8;</div><div class="line">  optional int64 nurseId =9;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="创建评估（Evans）"><a href="#创建评估（Evans）" class="headerlink" title="创建评估（Evans）"></a>创建评估（Evans）</h1><p><strong>POST /api/evans/v1/task/evaluations</strong></p>
<p>request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationTaskOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> evaluationId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">repeated</span> <span class="built_in">int64</span> nurseId = <span class="number">3</span>;</div><div class="line">  <span class="keyword">repeated</span> <span class="built_in">int64</span> patientId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> executeTime = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>response:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">message SimpleResponseDTO&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者列表（包括患者详情）"><a href="#患者列表（包括患者详情）" class="headerlink" title="患者列表（包括患者详情）"></a>患者列表（包括患者详情）</h1><p><strong>GET /api/evans/v1/patients?archiveStatus=1&amp;tags={tagIds}</strong></p>
<p>archiveStatus:</p>
<p>1: 已归档</p>
<p>0：未归档</p>
<p>暂时没有tags</p>
<h2 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h2><p>展示该科室下所有的患者信息。</p>
<p>可以不支持 tag 搜索，返回全量即可，前端会自己做筛选。</p>
<h2 id="接口详情-6"><a href="#接口详情-6" class="headerlink" title="接口详情"></a>接口详情</h2><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> PatientListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Patient patient = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Patient</span></span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">3</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">4</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> phoneNumber = <span class="number">5</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">6</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> createTime=<span class="number">7</span>;</div><div class="line">      <span class="keyword">repeated</span> Tag tag= <span class="number">8</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> TagCategory tagCategory = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag=<span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者管理-患者的详情"><a href="#患者管理-患者的详情" class="headerlink" title="患者管理-患者的详情"></a>患者管理-患者的详情</h1><p><strong>GET/api/evans/v1/patients/{patientId}</strong></p>
<h2 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h2><p><a href="http://owncloud.youhujia.com/index.php/s/TpvxcT4uhCZzerM" target="_blank" rel="external">设计</a></p>
<h2 id="接口详情-7"><a href="#接口详情-7" class="headerlink" title="接口详情"></a>接口详情</h2><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> PatientWithHealthRecordData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientWithHealthRecordData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> PatientWithHealthRecord patientWithHealthRecord = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientWithHealthRecord</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phoneNumber = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> Address address = <span class="number">7</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag= <span class="number">8</span>;</div><div class="line">  <span class="keyword">repeated</span> HealthRecord healthRecord = <span class="number">9</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">HealthRecord</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">5</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Address</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> province= <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> city = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> district = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> addressDetail = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> addressId=<span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者管理-新建患者"><a href="#患者管理-新建患者" class="headerlink" title="患者管理-新建患者"></a>患者管理-新建患者</h1><p><strong>POST /api/evans/v1/patients</strong></p>
<h2 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a>描述</h2><p>新建本科室下的患者</p>
<h2 id="接口详情-8"><a href="#接口详情-8" class="headerlink" title="接口详情"></a>接口详情</h2><p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientOpt</span></span>&#123;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">2</span>;<span class="comment">// 1：男 2：女</span></div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">3</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">4</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> phoneNumber = <span class="number">5</span>;</div><div class="line">   <span class="keyword">optional</span> Address address=<span class="number">6</span>;</div><div class="line">   <span class="keyword">repeated</span> Tag tag = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientDTO</span></span>&#123;</div><div class="line">  <span class="comment">//同上</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者管理-修改患者信息"><a href="#患者管理-修改患者信息" class="headerlink" title="患者管理-修改患者信息"></a>患者管理-修改患者信息</h1><p><strong>PATCH /api/evans/v1/patients/{patientId}</strong></p>
<h2 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a>描述</h2><p>修改患者信息,地址改的也是默认地址。</p>
<h2 id="接口详情-9"><a href="#接口详情-9" class="headerlink" title="接口详情"></a>接口详情</h2><p>request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientOpt</span></span>&#123;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">2</span>;<span class="comment">// 1：男 2：女</span></div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">3</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">4</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> phoneNumber = <span class="number">5</span>;</div><div class="line">   <span class="keyword">optional</span> Address address=<span class="number">6</span>;</div><div class="line">   <span class="keyword">repeated</span> Tag tag = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientDTO</span></span>&#123;</div><div class="line">  <span class="comment">//同上</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MARK，其中，标签分为两块，一个为科室自建标签+优护家推荐标签，全列出；另一个为 search 框，百科标签。</p>
<h1 id="患者管理-删除患者信息"><a href="#患者管理-删除患者信息" class="headerlink" title="患者管理-删除患者信息"></a>患者管理-删除患者信息</h1><p><strong>DELETE /api/evans/v1/patients/{patientId}</strong></p>
<p>response:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleResponseDTO</span></span>&#123;</div><div class="line"><span class="comment">//同上</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="患者管理-批量管理-批量加标签"><a href="#患者管理-批量管理-批量加标签" class="headerlink" title="患者管理-批量管理-批量加标签"></a>患者管理-批量管理-批量加标签</h1><p><strong>POST /api/evans/v1/patients/add-tags</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AddTagOpt</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> <span class="built_in">int64</span> patientIds = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者管理-批量管理-批量归档"><a href="#患者管理-批量管理-批量归档" class="headerlink" title="患者管理-批量管理-批量归档"></a>患者管理-批量管理-批量归档</h1><p><strong>POST /api/evans/v1/patients/archive</strong></p>
<h2 id="描述-5"><a href="#描述-5" class="headerlink" title="描述"></a>描述</h2><p>选中的护士进行批量归档</p>
<h2 id="接口详情-10"><a href="#接口详情-10" class="headerlink" title="接口详情"></a>接口详情</h2><p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArchiveOpt</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> <span class="built_in">int64</span> patientId = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleResponseDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="创建推送内容"><a href="#创建推送内容" class="headerlink" title="创建推送内容"></a>创建推送内容</h1><p>POST /api/evans/v1/push-tasks</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">message PushTask&#123;</div><div class="line">  repeated int64 articleIds = 1;</div><div class="line">  repeated int64 toolIds = 2;</div><div class="line">  repeated int64 patientIds = 3;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="MARK-创建-随访、评估、自测、推送宣教都改为批量，patientIds"><a href="#MARK-创建-随访、评估、自测、推送宣教都改为批量，patientIds" class="headerlink" title="MARK 创建 随访、评估、自测、推送宣教都改为批量，patientIds"></a>MARK 创建 随访、评估、自测、推送宣教都改为批量，patientIds</h1><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><h2 id="获取标签"><a href="#获取标签" class="headerlink" title="获取标签"></a>获取标签</h2><p><strong>GET /api/evans/v1/tags</strong></p>
<h2 id="描述-6"><a href="#描述-6" class="headerlink" title="描述"></a>描述</h2><p>返回 Tag 列表，包括：目前只有自建的</p>
<ol>
<li>科室自建Tag： Tag表里，TagType是MarkTag，DptId = current department 的所有tag。</li>
<li>优护家提供的高频自然人 Tag。</li>
<li>通过搜索获取 疾病树标签。见接口：<em>通过搜索获取自然人Tag</em></li>
</ol>
<h2 id="接口详情-11"><a href="#接口详情-11" class="headerlink" title="接口详情"></a>接口详情</h2><p>response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagListData data = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListData</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> Tag tag = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> TagCategory tagCategory = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;  <span class="comment">//返回tag所在分组，</span></div><div class="line">  <span class="keyword">repeated</span> Tag tag=<span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="通过搜索获取自然人-目前没有此接口"><a href="#通过搜索获取自然人-目前没有此接口" class="headerlink" title="通过搜索获取自然人 目前没有此接口"></a>通过搜索获取自然人 目前没有此接口</h1><p><strong>GET /api/evans/v1/tags/disease?query={queryWords}</strong></p>
<h2 id="描述-7"><a href="#描述-7" class="headerlink" title="描述"></a>描述</h2><p>优护家的自然 tag 量级在两万左右，无法直接列出，只能通过搜索获取。圣阳的 TrieTree。</p>
<h2 id="接口详情-12"><a href="#接口详情-12" class="headerlink" title="接口详情"></a>接口详情</h2><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagListDTO</span></span>&#123;</div><div class="line">  <span class="comment">//同上</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="新建标签"><a href="#新建标签" class="headerlink" title="新建标签"></a>新建标签</h2><p><strong>POST /api/evans/v1/tags</strong></p>
<h2 id="描述-8"><a href="#描述-8" class="headerlink" title="描述"></a>描述</h2><p>新建 Tag，TagType 固定为MarkTag。</p>
<h2 id="接口详情-13"><a href="#接口详情-13" class="headerlink" title="接口详情"></a>接口详情</h2><p>request：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  categoryId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> categoryName = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> tagName=<span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新标签"><a href="#更新标签" class="headerlink" title="更新标签"></a>更新标签</h2><p><strong>PATCH /api/evans/v1/tags/{tagId}</strong></p>
<h2 id="描述-9"><a href="#描述-9" class="headerlink" title="描述"></a>描述</h2><p>更新 Tag 的 name</p>
<h2 id="接口详情-14"><a href="#接口详情-14" class="headerlink" title="接口详情"></a>接口详情</h2><p>request：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span>  categoryId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> categoryName = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> tagName=<span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="标签管理-删除标签"><a href="#标签管理-删除标签" class="headerlink" title="标签管理-删除标签"></a>标签管理-删除标签</h1><p><strong>DELETE /api/evans/v1/tags/{tagId}</strong></p>
<h1 id="标签组的-List"><a href="#标签组的-List" class="headerlink" title="标签组的 List"></a>标签组的 List</h1><p><strong>GET /api/evans/v1/tag-categories</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryListDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> TagCategoryListData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryListData</span> </span>&#123;</div><div class="line">  <span class="keyword">repeated</span> TagCategory tagCategory = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag=<span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="标签组的-Get"><a href="#标签组的-Get" class="headerlink" title="标签组的 Get"></a>标签组的 Get</h1><p><strong>GET /api/evans/v1/tag-categories/{id}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryDetailDTO</span></span>&#123;</div><div class="line">     <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">     <span class="keyword">optional</span> TagCategoryData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryData</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> TagCategory tagCategory = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag=<span class="number">3</span>;         <span class="comment">//用不到</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="标签组的-Create"><a href="#标签组的-Create" class="headerlink" title="标签组的 Create"></a>标签组的 Create</h1><p><strong>POST /api/evans/v1/tag-categories</strong><br>request:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryOpt</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name= <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>response:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryDetailDTO</span></span>&#123;</div><div class="line">   <span class="comment">//同上</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="标签组的-Update"><a href="#标签组的-Update" class="headerlink" title="标签组的 Update"></a>标签组的 Update</h1><p><strong>PATCH /api/evans/v1/tag-categories/{id}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryOpt</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>response:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategoryDetailDTO</span></span>&#123;</div><div class="line">   <span class="comment">//同上</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="随访管理（关怀模板-随访模板-amp-护理路径"><a href="#随访管理（关怀模板-随访模板-amp-护理路径" class="headerlink" title="随访管理（关怀模板:随访模板 &amp; 护理路径)"></a>随访管理（关怀模板:随访模板 &amp; 护理路径)</h1><p><strong>GET /api/evans/v1/care-templates</strong></p>
<h2 id="描述-10"><a href="#描述-10" class="headerlink" title="描述"></a>描述</h2><p>拆为两个接口</p>
<p>页面中，<strong>类型</strong>为 <strong>系统预设</strong>？</p>
<p>随访无系统预设，（护理路径有系统预设、<strong>待确认</strong>）</p>
<h1 id="随访模板的列表"><a href="#随访模板的列表" class="headerlink" title="随访模板的列表"></a>随访模板的列表</h1><p><strong>GET /api/nurses/followup/pages/templates/v2</strong></p>
<p>复用 RedCoast 的 <a href="https://github.com/Youhujia/redcoast/blob/master/src/main/java/com/youhujia/redcoast/domain/template/FollowUpTemplateController.java#L42" target="_blank" rel="external">getFollowUpTemplateIndex</a> 接口，需更新 Response</p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateIndexV2DTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> FollowUpData data = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpData</span> </span>&#123;</div><div class="line">  <span class="keyword">repeated</span> FollowUpDTO  followUpDTO=<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> templateId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateEventDetail event = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateEventDetail</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> days = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateArticle article = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateTool tool = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateArticle</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateTool</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="创建随访模板"><a href="#创建随访模板" class="headerlink" title="创建随访模板"></a>创建随访模板</h1><p><strong>POST /api/nurses/followup/pages/templates/v2</strong></p>
<p>直接复用 RedCoast 的 <a href="https://github.com/Youhujia/redcoast/blob/master/src/main/java/com/youhujia/redcoast/domain/template/FollowUpTemplateController.java#L19" target="_blank" rel="external">createFollowUpTemplate</a> 接口，无需修改</p>
<p>Request:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">message FollowUpTemplateAddOption &#123;</div><div class="line">    optional int64 nurseId = 1;</div><div class="line">    optional string title = 2;</div><div class="line">    repeated TemplateEventAdd event = 3;</div><div class="line">  </div><div class="line">    message TemplateEventAdd &#123;</div><div class="line">      optional int64 days = 1;</div><div class="line">      optional string purpose = 2;</div><div class="line">      repeated int64 article = 3;</div><div class="line">      repeated int64 tool = 4;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">message message TemplateDTO &#123;</div><div class="line">    optional Result result = 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访管理-修改随访模板"><a href="#随访管理-修改随访模板" class="headerlink" title="随访管理-修改随访模板"></a>随访管理-修改随访模板</h1><p><strong>PATCH /api/nurses/followup/pages/templates/v2/{templateId}</strong></p>
<p>直接复用 RedCoast 的 <a href="https://github.com/Youhujia/redcoast/blob/master/src/main/java/com/youhujia/redcoast/domain/template/FollowUpTemplateController.java#L31" target="_blank" rel="external">updateFollowUpTemplate</a> 接口，无需修改。</p>
<h2 id="描述-11"><a href="#描述-11" class="headerlink" title="描述"></a>描述</h2><p>修改已有的随访模板</p>
<h2 id="接口详情-15"><a href="#接口详情-15" class="headerlink" title="接口详情"></a>接口详情</h2><p>Request：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//https://github.com/Youhujia/redcoast/blob/master/src/main/resources/followup.proto#L32</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpTemplateUpdateOption</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateEventAdd event = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> templateId = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateEventAdd</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> days = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> article = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">int64</span> tool = <span class="number">4</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访管理-删除随访模板"><a href="#随访管理-删除随访模板" class="headerlink" title="随访管理-删除随访模板"></a>随访管理-删除随访模板</h1><p><strong>不做</strong></p>
<h1 id="随访模板的详情"><a href="#随访模板的详情" class="headerlink" title="随访模板的详情"></a>随访模板的详情</h1><p><strong>GET /api/nurses/followup/pages/templates/v2/{id}</strong><br><a href="https://github.com/Youhujia/redcoast/blob/master/src/main/java/com/youhujia/redcoast/domain/template/FollowUpTemplateController.java#L54" target="_blank" rel="external">接口详情</a>  response更新</p>
<h2 id="接口详情-16"><a href="#接口详情-16" class="headerlink" title="接口详情"></a>接口详情</h2><p>Request:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateIndexDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> FollowUpData data = <span class="number">2</span>;  </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpData</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> FollowUpDTO followUp = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> templateId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateEventDetail event = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateEventDetail</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> days = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateArticle article = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> TemplateTool tool = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateArticle</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TemplateTool</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="随访管理-创建护理路径"><a href="#随访管理-创建护理路径" class="headerlink" title="随访管理-创建护理路径"></a>随访管理-创建护理路径</h1><p><strong>POST /api/evans/v1/care-routines</strong></p>
<h2 id="描述-12"><a href="#描述-12" class="headerlink" title="描述"></a>描述</h2><p>创建新的护理路径模板</p>
<h2 id="接口详情-17"><a href="#接口详情-17" class="headerlink" title="接口详情"></a>接口详情</h2><p>Request:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">CareRoutineOpt</span></span>&#123;</div><div class="line">   <span class="keyword">repeated</span> Tag tag = <span class="number">1</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> name = <span class="number">2</span>;</div><div class="line">   <span class="keyword">optional</span> <span class="built_in">string</span> actionType = <span class="number">3</span>;   <span class="comment">//动作类型</span></div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span>  actionItemId = <span class="number">4</span>;    </div><div class="line">   <span class="keyword">optional</span> <span class="built_in">int64</span> day = <span class="number">5</span>;           <span class="comment">//执行时间</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Response:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">message CareRoutineDTO &#123;</div><div class="line">  optional Result result = 1;</div><div class="line">  optional CareRoutineData data = 2;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message CareRoutineData&#123;</div><div class="line">  repeated CareRoutine careRoutine = 1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message CareRoutine&#123;</div><div class="line">  optional string id = 1;</div><div class="line">  optional string name = 2;</div><div class="line">  repeated Tag tag = 3;</div><div class="line">  </div><div class="line">  optional int64 actionType = 4;//9：宣教 10：自测</div><div class="line">  optional int64 actionItemId = 5;</div><div class="line">  optional int64 actionItemName = 6;</div><div class="line">  optional int64 executeDay = 7;</div><div class="line">&#125;</div><div class="line"></div><div class="line">message Tag &#123;</div><div class="line">  optional int64 id = 1;</div><div class="line">  optional int32 type = 2;</div><div class="line">  optional string name = 3;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访管理-编辑护理路径"><a href="#随访管理-编辑护理路径" class="headerlink" title="随访管理-编辑护理路径"></a>随访管理-编辑护理路径</h1><p><strong>PATCH /api/evans/v1/care-routines/{routineId}</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">message CareRoutineOpt&#123;</div><div class="line">   repeated Tag tag = 1;</div><div class="line">   optional int64 name = 2;</div><div class="line">   optional string actionType = 3;   //动作类型</div><div class="line">   optional int64  actionItemId = 4;    </div><div class="line">   optional int64 day = 5;           //执行时间</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访管理-获取护理路径"><a href="#随访管理-获取护理路径" class="headerlink" title="随访管理-获取护理路径"></a>随访管理-获取护理路径</h1><p><strong>GET /api/evans/v1/care-routines/{routineId}</strong></p>
<h2 id="描述-13"><a href="#描述-13" class="headerlink" title="描述"></a>描述</h2><p>护理路径 = 标签 + 动作（固定）</p>
<h2 id="接口详情-18"><a href="#接口详情-18" class="headerlink" title="接口详情"></a>接口详情</h2><p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">CareRoutineDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> CareRoutineData data = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访管理-删除护理路径"><a href="#随访管理-删除护理路径" class="headerlink" title="随访管理-删除护理路径"></a>随访管理-删除护理路径</h1><p><strong>DELETE /api/evans/v1/care-routines/{routineId}</strong></p>
<h1 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h1><p>接口由圣阳提供，参考：<a href="http://wiki.office.test.youhujia.com/2017/04/08/tag-research-api/" target="_blank" rel="external">http://wiki.office.test.youhujia.com/2017/04/08/tag-research-api/</a></p>
<h1 id="项目名称"><a href="#项目名称" class="headerlink" title="项目名称"></a>项目名称</h1><p>Mike`<strong>Evans</strong>, the core of Earth-Trisolaris Organization</p>
<h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><ul>
<li><p>com.youhujia.evans</p>
<ul>
<li>domain<ul>
<li>manager<ul>
<li>home<ul>
<li>HomeBO</li>
<li>HomeContext</li>
<li>HomeContextFactory</li>
</ul>
</li>
<li>articles<ul>
<li>articleBO</li>
<li>articleContext</li>
<li>articleContextFactory</li>
</ul>
</li>
<li>tools<ul>
<li>toolsBO</li>
<li>toolsContext</li>
<li>toolsContextFactory</li>
</ul>
</li>
<li>nurse<ul>
<li>nurseBO</li>
<li>nurseContext</li>
<li>nurseContextFactory</li>
</ul>
</li>
<li>annocement(复用)</li>
<li>roster(复用)</li>
<li>evaluations<ul>
<li>evaluationBO</li>
<li>evaluationContext</li>
<li>evaluationContextFactory</li>
</ul>
</li>
</ul>
</li>
<li>patients<ul>
<li>patient<ul>
<li>add<ul>
<li>addContext</li>
<li>addContextFactory</li>
<li>addBO</li>
</ul>
</li>
<li>query<ul>
<li>queryBO</li>
<li>queryContext</li>
<li>queryContextFactory</li>
</ul>
</li>
<li>delete</li>
<li>update</li>
</ul>
</li>
<li>tag<ul>
<li>add</li>
<li>query</li>
<li>delete</li>
<li>update</li>
</ul>
</li>
<li>followUp<ul>
<li>add</li>
<li>query</li>
<li>delete</li>
<li>update</li>
</ul>
</li>
</ul>
</li>
<li>researchs<ul>
<li>research<ul>
<li>add</li>
<li>query</li>
<li>delete</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ManagerBO<ul>
<li>ManagerController</li>
</ul>
</li>
<li><p>EvansApplication</p>
<h1 id="Kickoff"><a href="#Kickoff" class="headerlink" title="Kickoff"></a>Kickoff</h1></li>
</ul>
</li>
</ul>

					</div>

			  <!-- about -->
			  
		</div>

		<!-- pagination -->
	  

		<div class="comment-section">
  
  


</div>
	</div>

	

</div>


		<footer>
			

<p>
  由 <a href="https://hexo.io">hexo</a> 强力驱动 | 搭载 <a href="https://github.com/wayou/hexo-theme-material">material</a> 主题
</p>
<p>
  &copy; 2017 <a href="http://yoursite.com"> John Doe </a>
</p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	  </div>

		<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>

		<!-- material design -->
		<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script>
		<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>
		<!-- toc -->
		<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
		<script src="/libs/tocify/jquery.tocify.custom.js"></script>

		<script src="/js/main.js"></script>

	</body>
</html>
