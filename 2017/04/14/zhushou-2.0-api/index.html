	<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>优护助手 API | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="摘要优护助手 API，项目复用 Galaxy
产品设计：http://wiki.office.test.youhujia.com/2017/03/22/2017-03-22/">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="优护助手 API"/>
  <meta property="og:site_name" content="Hexo"/>

  
  
		<!-- favicon -->
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.png">
		<meta name="theme-color" content="#009688">
		<!-- favicon end -->
    <!-- <link href="/favicon.ico" rel="icon"> -->
  

  <!-- toc -->
  <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css">

  <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">

  <!-- material design -->
	<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css">
  <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
	<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  

  

  <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/libs/jquery-2.0.3.min.js" type="text/javascript"><\/script>')</script>

</head>

 	<body>
	  <nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">菜单</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Hexo</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="/" title="">
                    <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                <li>
                    <a href="/archives" title="">
                    <i class="fa fa-list"></i>存档
                    </a>
                </li>
                
                <li>
                    <a href="/about" title="">
                    <i class="fa fa-info-circle"></i>关于
                    </a>
                </li>
                
                <li>
                    <a href="/atom.xml" title="这是一个订阅源">
                    <i class="fa fa-rss"></i>RSS
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>

	  <div class="container" >
	    <div class="row">
	
	<div class="col-md-9 center-content">
	

		<div class="content">
			<!-- index -->
		   

			  		<h2>优护助手 API</h2>
					
					<div>
						<span class="post-time">2017-04-14 14:16:00</span>
					</div>	
					

					<div class="article-content">
						<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>优护助手 API，项目复用 Galaxy</p>
<p>产品设计：<a href="http://wiki.office.test.youhujia.com/2017/03/22/2017-03-22/" target="_blank" rel="external">http://wiki.office.test.youhujia.com/2017/03/22/2017-03-22/</a></p>
<a id="more"></a>
<h1 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h1><p><img src="http://ww1.sinaimg.cn/large/006tNbRwgy1feplwonl05j30zv0qr0x0.jpg" alt=""></p>
<p><a href="http://ww3.sinaimg.cn/large/006tKfTcgy1fegincdgp4j30zg0qm42q.jpg" target="_blank" rel="external">原链</a></p>
<h2 id="本次用到的protoc"><a href="#本次用到的protoc" class="headerlink" title="本次用到的protoc"></a>本次用到的protoc</h2><p><a href="https://github.com/Youhujia/docs/wiki/Protobuf-for-Zhushou-2.0-API" target="_blank" rel="external">https://github.com/Youhujia/docs/wiki/Protobuf-for-Zhushou-2.0-API</a></p>
<h1 id="登录（新接口）"><a href="#登录（新接口）" class="headerlink" title="登录（新接口）"></a>登录（新接口）</h1><p>新的护士流程需要分三步走：</p>
<ol>
<li>发送手机验证码</li>
<li>提交手机号和验证码进行登录，会返回 角色 ID 和 TOKEN</li>
<li>通过第2步中获取到的 ID 和 TOKEN 请求 getNurseById 获取护士详情</li>
</ol>
<p>具体接口分别如下：</p>
<h2 id="登录-API"><a href="#登录-API" class="headerlink" title="登录 API"></a>登录 API</h2><h3 id="1-发送手机验证码"><a href="#1-发送手机验证码" class="headerlink" title="1. 发送手机验证码"></a>1. 发送手机验证码</h3><blockquote>
<p>POST /api/yolar/v3/captcha/phone</p>
</blockquote>
<ul>
<li><p>Request <code>SendPhoneCaptchaOption</code></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SendPhoneCaptchaOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response protobuf <code>COMMON.SimpleResponse</code></p>
</li>
</ul>
<h3 id="2-提交手机号和验证码进行登录"><a href="#2-提交手机号和验证码进行登录" class="headerlink" title="2. 提交手机号和验证码进行登录"></a>2. 提交手机号和验证码进行登录</h3><blockquote>
<p>POST /api/yolar/v3/login/phone-captcha</p>
</blockquote>
<ul>
<li><p>Request protobuf</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">LoginRole</span> </span>&#123;</div><div class="line">  ADMIN = <span class="number">0</span>;</div><div class="line">  USER = <span class="number">1</span>;</div><div class="line">  NURSE = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PhoneCaptchaLoginOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> captcha = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> LoginRole loginRole = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response protobuf</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleLoginDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Data data = <span class="number">1</span>;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Data</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> token = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">      <span class="keyword">optional</span> LoginRole loginRole = <span class="number">3</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> redirectUrl = <span class="number">4</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h1><p><strong>POST /api/yolar/v3/logout</strong></p>
<ul>
<li><p>Request</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">message SimpleLogOutOption &#123;</div><div class="line">    optional int64 id = 1;</div><div class="line">    optional LoginRole loginRole = 2;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">message SimpleResponse</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="护士列表"><a href="#护士列表" class="headerlink" title="护士列表"></a>护士列表</h1><p>GET /api/galaxy/v1/nurses/{nurseId}/colleagues</p>
<ul>
<li><p>Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">message NurseListDTO &#123;</div><div class="line">    optional Result result = 1;</div><div class="line">    repeated Nurse nurse = 2;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="获取护士详情"><a href="#获取护士详情" class="headerlink" title="获取护士详情"></a>获取护士详情</h1><blockquote>
<p>GET /api/galaxy/v1/nurses/{nurseId}/info</p>
</blockquote>
<ul>
<li><p>Response protobuf <code>NurseInfoDTO</code></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> Nurse nurse = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="更新护士详情"><a href="#更新护士详情" class="headerlink" title="更新护士详情"></a>更新护士详情</h1><p>PATCH /api/galaxy/v1/nurses/{nurseId}/info</p>
<ul>
<li><p>Request</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseInfoOption</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> NurseBasic basic = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> NurseOccupation occupation = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseBasic</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> authorizedName = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> authorizedStatus = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> organizationId = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> organizationName = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> departmentName = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> professionalTitle = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> qrImgUrl = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> identifier = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">15</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> active = <span class="number">16</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseOccupation</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> IDNumber = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> certs = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> photocopy = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleResponse</span></span></div></pre></td></tr></table></figure>
<h1 id="创建护士信息到访客科室"><a href="#创建护士信息到访客科室" class="headerlink" title="创建护士信息到访客科室"></a>创建护士信息到访客科室</h1><p>PATCH /api/galaxy/v1/nurses/{nurseId}/create-info-in-guest-department</p>
<ul>
<li><p>Request</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseInfoOption</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> NurseBasic basic = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> NurseOccupation occupation = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseBasic</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> authorizedName = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> authorizedStatus = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> organizationId = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> organizationName = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> departmentName = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> professionalTitle = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> qrImgUrl = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> identifier = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">15</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> active = <span class="number">16</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseOccupation</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> IDNumber = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> certs = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> photocopy = <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NurseDTO</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h1 id="通过-SMS-邀请"><a href="#通过-SMS-邀请" class="headerlink" title="通过 SMS 邀请"></a>通过 SMS 邀请</h1><p>POST /api/galaxy/v1/nurses//{nurseId}/invite-via-sms</p>
<ul>
<li><p>Request</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">InviteViaSMSOption</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> msg = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleResponse</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="护士所在的所有科室"><a href="#护士所在的所有科室" class="headerlink" title="护士所在的所有科室"></a>护士所在的所有科室</h1><p>GET /api/galaxy/v1/nurses//{nurseId}/get-all-departments</p>
<ul>
<li><p>Response</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DepartmentListDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> Department department = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Department</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> organizationId = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> organizationName = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> number = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> authCode = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> isGuest = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> hostId = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> wxQrcode = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> imgUrl = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> mayContact = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> classificationType = <span class="number">15</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="切换科室"><a href="#切换科室" class="headerlink" title="切换科室"></a>切换科室</h1><p>POST /api/galaxy/v1/nurses/{nurseId}/change-department</p>
<ul>
<li><p>request</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">message ChangeDepartmentOption &#123;</div><div class="line">    optional int64 nurseId = 1;</div><div class="line">    optional int64 fromDepartmentId = 2;</div><div class="line">    optional int64 toDepartmentId = 3;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">message NurseDTO</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="患者-Tag"><a href="#患者-Tag" class="headerlink" title="患者 Tag"></a>患者 Tag</h1><h2 id="去掉-Tag"><a href="#去掉-Tag" class="headerlink" title="去掉 Tag"></a>去掉 Tag</h2><p><strong>POST /api/galaxy/v1/users/{userId}/tags/delete</strong></p>
<ul>
<li>Request</li>
</ul>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DeleteUserTagOpt</span> </span>&#123;</div><div class="line">    <span class="keyword">repeated</span> Tag tag = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userId = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Response:</li>
</ul>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">DeleteTagDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新-Tag"><a href="#更新-Tag" class="headerlink" title="更新 Tag"></a>更新 Tag</h2><p>PATCH /api/galaxy/v1/users/{userId}/tags</p>
<ul>
<li>Request</li>
</ul>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">UpdateTagsOnUserOpt</span> </span>&#123;</div><div class="line">    <span class="keyword">repeated</span> Tag tag = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userId = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Response</li>
</ul>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">UserDTO</span></span></div></pre></td></tr></table></figure>
<h1 id="日程-复用老接口"><a href="#日程-复用老接口" class="headerlink" title="日程(复用老接口)"></a>日程(复用老接口)</h1><h3 id="获取全部日常提醒页信息（不包括公告）"><a href="#获取全部日常提醒页信息（不包括公告）" class="headerlink" title="获取全部日常提醒页信息（不包括公告）"></a>获取全部日常提醒页信息（不包括公告）</h3><p><strong>GET /api/nurses/calendars/messagePage</strong><br><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L39" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">MessageCenterDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> MessageCenterEventDTO today = <span class="number">2</span>;  <span class="comment">//今日日程</span></div><div class="line">  <span class="keyword">repeated</span> MessageCenterEventDTO future = <span class="number">3</span>;  <span class="comment">//近期的日程</span></div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> new = <span class="number">6</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">MessageCenterEventDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>;<span class="comment">//1：随访，2：排班，5：评估</span></div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="注：日程列表多了一种type-gt-评估"><a href="#注：日程列表多了一种type-gt-评估" class="headerlink" title="注：日程列表多了一种type -&gt; 评估"></a>注：日程列表多了一种type -&gt; 评估</h4><h1 id="公告-复用老接口"><a href="#公告-复用老接口" class="headerlink" title="公告(复用老接口)"></a>公告(复用老接口)</h1><h2 id="添加公告"><a href="#添加公告" class="headerlink" title="添加公告"></a>添加公告</h2><p><strong>POST /api/nurses/calendars/events/announcement/v1</strong>  </p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L56" target="_blank" rel="external">具体接口</a></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventAddOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title= <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> day = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventAddDTO</span> </span>&#123;</div><div class="line"> <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新公告"><a href="#更新公告" class="headerlink" title="更新公告"></a>更新公告</h2><p><strong>PATCH /api/nurses/calendars/events/announcement/v1/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L94" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventUpdateOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> day = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventUpdateDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="获得单个公告"><a href="#获得单个公告" class="headerlink" title="获得单个公告"></a>获得单个公告</h2><p><strong>GET /api/nurses/calendars/events/announcement/v1/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L112" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementEventDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> Nurse author = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">7</span>;</div><div class="line">  <span class="keyword">repeated</span> ReadPerson readPerson = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> departmentNurseNum = <span class="number">10</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ReadPerson</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Nurse</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="获得所有公告"><a href="#获得所有公告" class="headerlink" title="获得所有公告"></a>获得所有公告</h2><p><strong>GET /api/nurses/calendars/events/announcements/v1</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">AnnouncementQueryDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> Announcement announcement = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Announcement</span> </span>&#123;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ReadPerson</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Author</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> Author name = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">6</span>;</div><div class="line">  <span class="keyword">repeated</span> ReadPerson readPerson = <span class="number">7</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> updateAt = <span class="number">8</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> departmentNurseNum = <span class="number">9</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">bool</span> isExpireAnnouncement = <span class="number">10</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="排班"><a href="#排班" class="headerlink" title="排班"></a>排班</h1><h2 id="获得单个排班信息"><a href="#获得单个排班信息" class="headerlink" title="获得单个排班信息"></a>获得单个排班信息</h2><p><strong>GET /api/nurses/calendars/events/roster/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L152" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">RosterEventDTO</span> </span>&#123;</div><div class="line"> <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">2</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">int64</span> rosterId = <span class="number">3</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">4</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">5</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">6</span>;</div><div class="line"> <span class="keyword">optional</span> <span class="built_in">int64</span> alertTime = <span class="number">7</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="随访-复用老接口"><a href="#随访-复用老接口" class="headerlink" title="随访(复用老接口)"></a>随访(复用老接口)</h1><h2 id="获得单个随访信息"><a href="#获得单个随访信息" class="headerlink" title="获得单个随访信息"></a>获得单个随访信息</h2><p><strong>GET /api/nurses/calendars/events/followup/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L132" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpEventDTO</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> Target target = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">  <span class="keyword">repeated</span> Event event = <span class="number">4</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Target</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> personId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatar = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> Tag tag = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Tag</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> tagId = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> tagName = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Event</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> startTime = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> endTime = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> alertTime = <span class="number">5</span>;</div><div class="line">    <span class="keyword">repeated</span> <span class="built_in">string</span> executorName = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> Brief brief = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> WeChat wechat = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> ProEvalAction proEvalAction = <span class="number">11</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Brief</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">WeChat</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">2</span>;</div><div class="line">      <span class="keyword">optional</span> WeChatContent content = <span class="number">3</span>;</div><div class="line"></div><div class="line">      <span class="class"><span class="keyword">message</span> <span class="title">WeChatContent</span> </span>&#123;</div><div class="line">        <span class="keyword">repeated</span> Article article = <span class="number">3</span>;</div><div class="line">        <span class="keyword">repeated</span> Tool tool = <span class="number">4</span>;</div><div class="line">        <span class="keyword">optional</span> WeChatMsg msg = <span class="number">5</span>;</div><div class="line"></div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">Article</span> </span>&#123;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">Tool</span> </span>&#123;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">          <span class="keyword">optional</span> <span class="built_in">string</span> summary = <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">WeChatMsg</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> url = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> WXTemplateMsg wxTemplateMsg = <span class="number">2</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">WXTemplateMsg</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> templateId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> Content content = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> from = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> to = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Content</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> welcome = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">3</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> date = <span class="number">5</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> detailDesc = <span class="number">6</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ProEvalAction</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">2</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> EvaluateSection contentSectionOfEval = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//copied from sophon.proto in halo</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluateSection</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Evaluate</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> summary = <span class="number">3</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> resultId = <span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> desc = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> Evaluate evaluate = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> order = <span class="number">4</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新随访信息"><a href="#更新随访信息" class="headerlink" title="更新随访信息"></a>更新随访信息</h2><p><strong>PATCH /api/nurses/calendars/events/followup/{id}</strong></p>
<p><a href="https://github.com/Youhujia/galaxy/blob/master/src/main/java/com/youhujia/galaxy/domain/calendar/CalendarController.java#L172" target="_blank" rel="external">具体接口</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpEventUpdateOption</span> </span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> eventId = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> purpose = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> Brief brief = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> WeChat wechat = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">6</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> ProEvalAction proEvalAction = <span class="number">7</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Brief</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">WeChat</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> actionId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> Tool tool = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> Article article = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Tool</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">string</span> summary = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">Article</span> </span>&#123;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">      <span class="keyword">optional</span> <span class="built_in">bool</span> read = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FollowUpEventUpdateDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="获取评估任务详情"><a href="#获取评估任务详情" class="headerlink" title="获取评估任务详情"></a>获取评估任务详情</h1><p><strong>GET /api/nurses/calendars/events/pro-eval/{eval-event-id}</strong></p>
<ul>
<li>Response</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">message ProEvalEventDTO &#123;</div><div class="line">    optional Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">    optional int64 eventId = <span class="number">2</span>;</div><div class="line">    optional int64 nurseId = <span class="number">3</span>;</div><div class="line">    optional int64 patientId = <span class="number">4</span>;</div><div class="line">    optional int64 status = <span class="number">5</span>;</div><div class="line">    optional EvaluateSection evalSection = <span class="number">6</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="通知中心-和-服务信息Mark"><a href="#通知中心-和-服务信息Mark" class="headerlink" title="通知中心 和 服务信息Mark"></a>通知中心 和 服务信息Mark</h1><p>通过 push 下发相关信息，客户端自己收纳。</p>
<p>push 的消息格式:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">"content":&#123;</div><div class="line">"payloads":[&#123;</div><div class="line">  "type" : 1, // type of msg, 4: service, 1: followup, 5: evaluation</div><div class="line">  "id" : 123, // id of given item</div><div class="line">  "detail" : &#123;</div><div class="line">    //service</div><div class="line">    "serviceName" : "鼻饲-代购物品-1次",</div><div class="line">    "patientInfo" : "&#123;'name':'李丽仪','gender':1,'age':40,'id':666&#125;",</div><div class="line">    "content" : "您有一个订单即将开始",</div><div class="line"></div><div class="line">    //followup &amp; evalution</div><div class="line">    "title" : "李丽仪的第二次随访",</div><div class="line">    "ts" : 1234323423123,</div><div class="line">    "content" : "您有一个随访即将开始"</div><div class="line">  &#125;</div><div class="line">&#125;]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="工作台-这次这个接口不被使用"><a href="#工作台-这次这个接口不被使用" class="headerlink" title="工作台(这次这个接口不被使用)"></a>工作台(这次这个接口不被使用)</h1><p>通知中心：随访、评估、<del>日程提醒</del>、护理路径通知（宣教、自测）</p>
<p><strong>GET /api/zhushou/v1/workbench</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">WorkBenchOptionDTO</span></span>&#123;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">WorkBenchOptionItem</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> iconUrl = <span class="number">1</span>;	<span class="comment">//icon</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">3</span>;        <span class="comment">//1： 评估，2：自测</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> url = <span class="number">4</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> WorkBenchOptionItem workBenchOptionList = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="QR-Code"><a href="#QR-Code" class="headerlink" title="QR Code"></a>QR Code</h1><p><strong>GET /api/galaxy/v1/my-qrcode?nurseId={nurseId}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">QrCodeDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> imgUrl = <span class="number">2</span>;  <span class="comment">// 二维码url</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="添加患者"><a href="#添加患者" class="headerlink" title="添加患者"></a>添加患者</h1><p><strong>POST /api/galaxy/v1/patients</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">PatientOpt</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">2</span>;<span class="comment">// 0：女，1：男</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> phoneNumber = <span class="number">5</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">6</span>; <span class="comment">// 创建者id</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">CommonResponseDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="发起评估"><a href="#发起评估" class="headerlink" title="发起评估"></a>发起评估</h1><p><strong>POST /api/galaxy/v1/evaluations/init</strong></p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">InitEvaluation</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> patientId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> evaluationTableId = <span class="number">2</span>;</div><div class="line">    <span class="comment">//optional int64 itemId = 3;</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> nurseId = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> servingTime = <span class="number">5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<p><strong>用上面的返回值CommonResponseDTO</strong></p>
<h1 id="评估量表库a"><a href="#评估量表库a" class="headerlink" title="评估量表库a"></a>评估量表库a</h1><p><strong>GET /api/galaxy/v1/evaluations</strong></p>
<p>按（组-》评估）的结构返回</p>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluateGroupListDTO</span></span>&#123;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">EvaluateItem</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> itemId = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">EvaluateGroup</span></span>&#123;</div><div class="line">    <span class="keyword">repeated</span> EvaluateItem evaluateGroup = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> EvaluateGroup evaluateList = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="自测量表库"><a href="#自测量表库" class="headerlink" title="自测量表库"></a>自测量表库</h1><p><strong>GET /api/galaxy/v1/self-tests</strong></p>
<p>返回数据结构同上，只是具体数据不同，上面接口返回评估，本接口返回自测</p>
<h1 id="获取评估可选时间"><a href="#获取评估可选时间" class="headerlink" title="获取评估可选时间"></a>获取评估可选时间</h1><p><strong>GET /api/galaxy/v1/evaluation-times</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ServiceTimeDTO</span></span>&#123;</div><div class="line">  <span class="keyword">repeated</span> ServiceTime serviceTime=<span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">2</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Time</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  detailTime = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ServiceTime</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span>  date = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> weekdays = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> Time time = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="评估表详情M"><a href="#评估表详情M" class="headerlink" title="评估表详情M"></a>评估表详情M</h1><p><strong>GET /api/galaxy/v1/evaluations/{evalutionId}</strong></p>
<p><em>本期客户端直接使用 web 页面展示评估相关内容，所以这个接口实际使用者为 web 端。</em></p>
<p>返回评估的所有信息，客户端自己处理不同页面下的不同展现形式，例如：查看评估量表的概要、试做评估等等。</p>
<p><strong>todo: structure of evaluation level ?</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">5</span>; <span class="comment">//1: 评估 2：自测</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> iconId = <span class="number">6</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> iconColor = <span class="number">7</span>;</div><div class="line">  <span class="keyword">repeated</span> QuestionBundle questionBundle = <span class="number">8</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">QuestionBundle</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> Question question = <span class="number">2</span>;</div><div class="line">    <span class="keyword">repeated</span> QuestionBundleAnalysis analysis = <span class="number">3</span>;<span class="comment">// question_bundle_analysis</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Question</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">3</span>;<span class="comment">//enum todo 单选、多选、填空</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> <span class="keyword">required</span> = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="keyword">repeated</span> QuestionOption questionOption = <span class="number">5</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">QuestionBundleAnalysis</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> condition = <span class="number">2</span>; <span class="comment">//判断条件</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> analysis = <span class="number">3</span>; <span class="comment">//分析结论</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">QuestionOption</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="提交评估M"><a href="#提交评估M" class="headerlink" title="提交评估M"></a>提交评估M</h1><p><strong>POST /api/galaxy/v1/evaluations/{evaluationId}</strong></p>
<p>todo: 单独发起评估 和 执行已有评估的区别</p>
<p>Request:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SubmitEvaluation</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> evaluationId = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">3</span>; <span class="comment">//  [&#123;“question_bundle_id”: 1, “submit”: [&#123;question_id”: 1, “question_option_id”: &#125;] &#125;] 单选 [option_id], 多选 [option_id, option_id], 填空题 ['Foo', 'Bar', 'Baz']</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> comment = <span class="number">4</span></div><div class="line">    ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationResultDTO</span></span>&#123;</div><div class="line">  <span class="comment">//见下</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="查看评估结果"><a href="#查看评估结果" class="headerlink" title="查看评估结果"></a>查看评估结果</h1><p><strong>GET /api/galaxy/v1/evaluations/{evaluationId}/{evaluationSubmitId}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">EvaluationResultDTO</span></span>&#123;</div><div class="line">    <span class="comment">//todo diff seq of 1 &amp; 2, may cause error of protobuf merge</span></div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> recordId = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> submitorId = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> submitorType = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> departmentId = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> departmentName = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> organizationId = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> organizationName = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> evaluationId = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> evaluationName = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> conclusion = <span class="number">11</span>;</div><div class="line">    <span class="keyword">repeated</span> QuestionAnswer answer = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> iconColor = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> icon = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">15</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">QuestionAnswer</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> questionType = <span class="number">1</span>;<span class="comment">//http://wiki.office.test.youhujia.com/2017/04/17/enum#QuestionTypeEnum-Civil</span></div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> questionContent = <span class="number">2</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> questionDesc = <span class="number">3</span>;</div><div class="line">        <span class="keyword">repeated</span> <span class="built_in">string</span> questionDescPicUrl = <span class="number">4</span>;</div><div class="line">        <span class="keyword">repeated</span> SingleChoice singleChoice = <span class="number">5</span>;</div><div class="line">        <span class="keyword">repeated</span> MultiChoice multiChoice = <span class="number">6</span>;</div><div class="line">        <span class="keyword">repeated</span> Completion completion = <span class="number">7</span>;</div><div class="line">        <span class="keyword">repeated</span> SingleChoiceMatrix singleChoiceMatrix = <span class="number">8</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> order = <span class="number">9</span>;</div><div class="line"></div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">SingleChoice</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> choice = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">MultiChoice</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> choice = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">Completion</span> </span>&#123;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">1</span>;</div><div class="line">            <span class="keyword">optional</span> <span class="built_in">string</span> format = <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="class"><span class="keyword">message</span> <span class="title">SingleChoiceMatrix</span> </span>&#123;</div><div class="line">            <span class="class"><span class="keyword">message</span> <span class="title">OptionContent</span> </span>&#123;</div><div class="line">                <span class="keyword">optional</span> <span class="built_in">int64</span> rank = <span class="number">1</span>;</div><div class="line">                <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">2</span>;</div><div class="line">                <span class="keyword">repeated</span> <span class="built_in">string</span> choice = <span class="number">3</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">optional</span> OptionContent optionContent = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="健康宣教列表M-shawn-ArticleGroup-的结构存储在？"><a href="#健康宣教列表M-shawn-ArticleGroup-的结构存储在？" class="headerlink" title="健康宣教列表M @shawn, ArticleGroup 的结构存储在？"></a>健康宣教列表M @shawn, ArticleGroup 的结构存储在？</h1><p><strong>GET /api/galaxy/v1/articles</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleGroupListDTO</span></span>&#123;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ArticleGroup</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> ArticleInfo articleInfo = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">ArticleInfo</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> articleId = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> ArticleGroup articleGroup = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="健康宣教详情"><a href="#健康宣教详情" class="headerlink" title="健康宣教详情"></a>健康宣教详情</h1><p><strong>GET /api/galaxy/articles/{aritcleId}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">ArticleDTO</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">12</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> brief = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> author = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> bannerUrl = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> articleTypeId = <span class="number">8</span>;<span class="comment">//todo</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> licenseId = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">11</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者列表"><a href="#患者列表" class="headerlink" title="患者列表"></a>患者列表</h1><p><strong>GET /api/galaxy/v1/users</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//originally used by Era, moved here</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">UsersClassfiedByTitleDTO</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> NameGroup user = <span class="number">2</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">NameGroup</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">1</span>;</div><div class="line">        <span class="keyword">repeated</span> UserInfoWithTags member = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">UserInfoWithTags</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> User user = <span class="number">1</span>;</div><div class="line">        <span class="keyword">repeated</span> Tag tag = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//https://github.com/Youhujia/halo/blob/develop/src/main/resources/yolar.proto#L121</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">User</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> nickname = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> realname = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> avatarUrl = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> status = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> token = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> flag = <span class="number">11</span>;</div><div class="line"></div><div class="line">    <span class="keyword">repeated</span> UserAddress userAddress = <span class="number">12</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> openid = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> accessToken = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> unionid = <span class="number">15</span>;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> createdAt = <span class="number">16</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> updatedAt = <span class="number">17</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">UserAddress</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userAddressId = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> gender = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> birthday = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> relation = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> Address address = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> phone = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> idCard = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> default = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> userId = <span class="number">10</span>;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Address</span> </span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> province = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> city = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> district = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> addressDetail = <span class="number">4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//https://github.com/Youhujia/halo/blob/develop/src/main/resources/hdfragments.proto#L40</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  type = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  level = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level1 = <span class="number">5</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level2 = <span class="number">6</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level3 = <span class="number">7</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level4 = <span class="number">8</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level5 = <span class="number">9</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level6 = <span class="number">10</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level7 = <span class="number">11</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level8 = <span class="number">12</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level9 = <span class="number">13</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level10 = <span class="number">14</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level11 = <span class="number">15</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level12 = <span class="number">16</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level13 = <span class="number">17</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level14 = <span class="number">18</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  level15 = <span class="number">19</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  creatorId = <span class="number">20</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span>  creatorType = <span class="number">21</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  dptId = <span class="number">22</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  orgId = <span class="number">23</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span>   isLeaf = <span class="number">24</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  createdAt = <span class="number">25</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span>  updatedAt = <span class="number">26</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者详情页"><a href="#患者详情页" class="headerlink" title="患者详情页"></a>患者详情页</h1><p><strong>GET /api/galaxy/v1/users/{userId}</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">UserDTO</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line"></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">  <span class="keyword">repeated</span> Tag tag = <span class="number">4</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> url = <span class="number">5</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">2</span>;<span class="comment">//1: 自然人指标, 5: 护士创建标记标签, etc</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="患者标签详情"><a href="#患者标签详情" class="headerlink" title="患者标签详情"></a>患者标签详情</h1><p><strong>GET /api/galaxy/v1/users/{userId}/tag-category</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">TagCategory</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> Category category = <span class="number">2</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Category</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">    <span class="keyword">repeated</span> Tag tag = <span class="number">4</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Tag</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>;<span class="comment">//1: 自然人指标, 5: 护士创建标记标签, etc</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> name = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">bool</span> isSelected = <span class="number">4</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="康复护理记录-患者的"><a href="#康复护理记录-患者的" class="headerlink" title="康复护理记录(患者的)"></a>康复护理记录(患者的)</h1><p><strong>GET /api/galaxy/v1/care-records?patientId={patientId}</strong></p>
<p><a href="http://owncloud.youhujia.com/index.php/s/DB62syhOYFXsaMa" target="_blank" rel="external">设计</a></p>
<p><strong>NOTE: 需要更新 Sophon 的 Plan Table，添加字段：targetId &amp; targetType，用来查找执行对象是患者的 Plan</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//M 康复护理记录</span></div><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">NursingRecordDTO</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">NursingRecordItem</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;<span class="comment">//task id</span></div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> type = <span class="number">2</span>; <span class="comment">// 1：随访 5:评估</span></div><div class="line">        <span class="keyword">optional</span> <span class="built_in">int64</span> timestamp = <span class="number">3</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> iconUrl = <span class="number">4</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">5</span>;</div><div class="line">        <span class="keyword">repeated</span> NursingRecordDetailItem itemList = <span class="number">6</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">message</span> <span class="title">NursingRecordDetailItem</span> </span>&#123;</div><div class="line">        <span class="keyword">optional</span> long id = <span class="number">1</span>;<span class="comment">//id of given type, rst id of self &amp; pro eval</span></div><div class="line">        <span class="keyword">optional</span> long type = <span class="number">2</span>; <span class="comment">//2: SelfEval in FOLLOWUP_WECHAT; 7: GENERAL_EVALUATE</span></div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> title = <span class="number">3</span>;</div><div class="line">        <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">4</span>; <span class="comment">//&#123;"evalId": 111&#125;</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">    <span class="keyword">repeated</span> NursingRecordItem nursingRecordList = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="我的工作记录Mark"><a href="#我的工作记录Mark" class="headerlink" title="我的工作记录Mark"></a>我的工作记录Mark</h1><p><strong>GET /api/galaxy/v1/work-records</strong></p>
<p><a href="http://owncloud.youhujia.com/index.php/s/1edcSaMVegmFC2s" target="_blank" rel="external">设计</a></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">WorkRecord</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">  <span class="keyword">repeated</span> Record record = <span class="number">2</span>;</div><div class="line"></div><div class="line">  <span class="class"><span class="keyword">message</span> <span class="title">Record</span></span>&#123;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> id = <span class="number">1</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> type = <span class="number">2</span>;<span class="comment">// 1：随访 5:评估 6：自测</span></div><div class="line">    <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">3</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int32</span> status = <span class="number">4</span>;</div><div class="line">    <span class="keyword">optional</span> <span class="built_in">int64</span> timestamp = <span class="number">5</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="提交反馈"><a href="#提交反馈" class="headerlink" title="提交反馈"></a>提交反馈</h1><p><strong>POST /api/galaxy/v1/feedback</strong></p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">FeedbackSubmit</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> content = <span class="number">1</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> contact = <span class="number">2</span>;</div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> appVersion = <span class="number">3</span>; <span class="comment">// auto get by app, version of our app</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> device = <span class="number">4</span>; <span class="comment">// auto get by app, xiaomi, huawei, etc</span></div><div class="line">  <span class="keyword">optional</span> <span class="built_in">string</span> os = <span class="number">5</span>; <span class="comment">// auto get by app, android or iOS</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Response:</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">message</span> <span class="title">SimpleResponse</span></span>&#123;</div><div class="line">  <span class="keyword">optional</span> Result result = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="项目排期"><a href="#项目排期" class="headerlink" title="项目排期"></a>项目排期</h1><table>
<thead>
<tr>
<th>工作内容</th>
<th>内容详情</th>
<th>人日</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>获得护士的微信二维码</td>
<td>查</td>
<td>0.1</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>获得所有的评估量表</strong></td>
<td>查</td>
<td>0.75</td>
</tr>
<tr>
<td>根据Id获得某一个评估量表</td>
<td>查</td>
<td>0.25</td>
</tr>
<tr>
<td>获得评估量表的时间的List</td>
<td>查</td>
<td>0.1</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>发起评估</strong></td>
<td>增</td>
<td>0.25</td>
</tr>
<tr>
<td>提交评估结果</td>
<td>增</td>
<td>0.25</td>
</tr>
<tr>
<td>查看评估结果</td>
<td>查</td>
<td>0.5</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>文章列表</td>
<td>查</td>
<td>1</td>
</tr>
<tr>
<td>文章详情</td>
<td>查</td>
<td>0.25</td>
</tr>
<tr>
<td>发送宣教</td>
<td>增</td>
<td>0.25</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>手动创建患者</strong></td>
<td>增</td>
<td>0.5</td>
</tr>
<tr>
<td>查看某一个患者的详细信息</td>
<td>查</td>
<td>0.25</td>
</tr>
<tr>
<td>查看患者的tag详情</td>
<td>查</td>
<td>0.25</td>
</tr>
<tr>
<td>查看患者的康复护理记录</td>
<td>查</td>
<td>1</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>提交反馈</td>
<td>增</td>
<td>0.25</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>护士的工作记录</td>
<td>查</td>
<td>0.5</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>测试</td>
<td></td>
<td>3</td>
</tr>
</tbody>
</table>
<h1 id="Kickoff会议记录"><a href="#Kickoff会议记录" class="headerlink" title="Kickoff会议记录"></a>Kickoff会议记录</h1><ol>
<li><del>MsgCenter rm duplicate fields</del></li>
<li><del>日程里添加评估（total 3种）</del></li>
<li><del>日程里无服务订单（暂定没有）</del></li>
<li>定义好各种 type status 的值</li>
<li>需要添加排班的交互</li>
<li>随访（老接口）中添加 评估+自评 的字段</li>
<li><del>通知中心 &amp; 服务信息 restore wiki content</del></li>
<li>评估自测的H5渲染，需要前端出人：shaojie</li>
<li><del>1-2-13评估结果页 页面有错误，应该为评估，而非自测</del></li>
<li><del>发送宣教接口，删除，通过IM发送</del></li>
<li>患者详情页 缺头像</li>
<li>患者详情页不需要接口，列表页有全部信息。列表页需要更新，Tag逻辑</li>
<li>患者标签详情页，现在列出的待选标签是科室自建 + 优护家自建</li>
<li>患者标签详情页，打标签。对前端是旧接口，但是后端需要更新标签相关的逻辑</li>
<li><del>康复护理记录，暂不分页，默认半年</del></li>
<li>我的工作记录（需确认有无订单）</li>
</ol>

					</div>

			  <!-- about -->
			  
		</div>

		<!-- pagination -->
	  

		<div class="comment-section">
  
  


</div>
	</div>

	

</div>


		<footer>
			

<p>
  由 <a href="https://hexo.io">hexo</a> 强力驱动 | 搭载 <a href="https://github.com/wayou/hexo-theme-material">material</a> 主题
</p>
<p>
  &copy; 2017 <a href="http://yoursite.com"> John Doe </a>
</p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	  </div>

		<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>

		<!-- material design -->
		<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script>
		<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>
		<!-- toc -->
		<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
		<script src="/libs/tocify/jquery.tocify.custom.js"></script>

		<script src="/js/main.js"></script>

	</body>
</html>
